{"mappings":"AAAA,MAAMA,EAAiBC,aAAaC,QAAQ,SACtCC,EAAWC,KAAKC,MAAML,GAEtBM,EAAcC,SAASC,cAAc,cAI3C,SAASC,EAAeC,GACtBJ,EAAYK,UAAYD,C,CA8B1B,SAASE,EAAeC,GAEtB,OADgBA,EAASC,KAAIJ,GA5B/B,UAA8BK,MAC5BA,EAAKC,SACLA,EAAQC,QACRA,EAAOC,GACPA,EAAEC,SACFA,EAAQC,eACRA,EAAcC,IACdA,IAEA,MAAO,wCAAwCH,6IAGJF,6DACFC,8MAKJF,qDACKI,8FAEGC,6DACGC,yG,CAMbC,CAAqBZ,I,CAlC1DJ,EAAYiB,iBAAiB,SAwD7B,SAAiCC,GAC/B,GAA2B,WAAvBA,EAAIC,OAAOC,QACb,OAEF,IAAIC,EACJA,EAAkBH,EAAIC,OACtB,MAAMG,EAAWJ,EAAIC,OAAOI,QAAQ,sBAAsBC,QAAQZ,GAElE,GAAIM,EAAIC,OAAOM,aAAa,WAAY,CACtCJ,EAAgBK,gBAAgB,WAEhC,IAAIC,EAAUhC,aAAaC,QAAQ,SAGnC,YA7BJ,SAA+BgC,EAAcN,GAC3C,MAAMO,EAAaD,EAAaE,QAAO,CAACC,EAAKC,KACvCA,EAAKpB,KAAOU,GAGhBS,EAAIE,KAAKD,GAFAD,IAIR,IACGG,EAAapC,KAAKqC,UAAUN,GAClClC,aAAayC,QAAQ,QAASF,GAC9B,MAAMG,EAAiBvC,KAAKC,MAAMJ,aAAaC,QAAQ,UAEvDO,EAD2BG,EAAe+B,G,CAiBxCC,CADqBxC,KAAKC,MAAM4B,GACIL,E,CAItCD,EAAgBkB,aAAa,WAAW,GAExC,MAAMC,EAAgBtB,EAAIC,OAAOI,QAAQ,sBAAsBC,QAAQZ,GACjE6B,EAAiBvB,EAAIC,OAAOI,QAAQ,OACpCb,EAAW+B,EAAeC,WAAW,GAAGC,IACxChC,EAAU8B,EAAeC,WAAW,GAAGE,YACvCC,EAAW3B,EAAIC,OAAOI,QAAQ,WAC9Bd,EAAQoC,EAASH,WAAW,GAAGE,YAC/B/B,EAAWgC,EAASH,WAAW,GAAGE,YAClC9B,EAAiB+B,EAASH,WAAW,GAAGA,WAAW,GAAGE,YACtD7B,EAAM8B,EAASH,WAAW,GAAGA,WAAW,GAAGI,KAEjD,IAAInB,EAAUhC,aAAaC,QAAQ,SAGnC,MAAMmD,EAAS,CACbnC,GAAI4B,EACJ9B,SAAUA,EACVC,QAASA,EACTF,MAAOA,EACPI,SAAUA,EACVC,eAAgBA,EAChBC,IAAKA,GAGDa,EAAe9B,KAAKC,MAAM4B,GAChCC,EAAaK,KAAKc,GAClB,MAAMb,EAAapC,KAAKqC,UAAUP,GAClCjC,aAAayC,QAAQ,QAASF,E,IA9DhC/B,EADmBG,EAAeT","sources":["src/js/favorite.js"],"sourcesContent":["const objFromStorale = localStorage.getItem('cards');\nconst objParse = JSON.parse(objFromStorale);\n\nconst newsWrapper = document.querySelector('.card_list');\n\nnewsWrapper.addEventListener('click', addRemoveToLocalStorage);\n\nfunction updateNewsList(el) {\n  newsWrapper.innerHTML = el;\n}\n\nfunction createFavoriteMarkup({\n  title,\n  imageUrl,\n  section,\n  id,\n  abstract,\n  published_date,\n  url,\n}) {\n  return `<li class=\"list-news__item\" data-id=\"${id}\">\n      <article class=\"item-news__article\">\n        <div class=\"item-news__wrapper-img\">\n          <img class=\"item-news__img\" src=\"${imageUrl}\" alt=\"photo\">\n          <p class=\"item-news__category\">${section}</p>\n          <button checked=\"true\" class=\"item-news__add-to-favorite\">Add to favorite\n            <!-- сердечко -->\n          </button>\n        </div>\n        <h2 class=\"item-news__title\">${title}</h2>\n        <p class=\"item-news__description\">${abstract}</p>\n        <div class=\"item-news__info\">\n          <span class=\"item-news__info-date\">${published_date}</span>\n          <a class=\"item-news__info-link\" href=\"${url}\" target=\"_blank\" rel=\"noreferrer noopener\">Read more</a>\n        </div>\n      </article>\n    </li>`;\n}\nfunction markupFavorite(objParse) {\n  const markFav = objParse.map(el => createFavoriteMarkup(el));\n  return markFav;\n}\n\nconst baseMArkUp = markupFavorite(objParse);\nupdateNewsList(baseMArkUp);\n\nfunction updateStorageFavotite(parseStorage, btnDivID) {\n  const newStorage = parseStorage.reduce((acc, card) => {\n    if (card.id === btnDivID) {\n      return acc;\n    }\n    acc.push(card);\n    return acc;\n  }, []);\n  const strStorage = JSON.stringify(newStorage);\n  localStorage.setItem('cards', strStorage);\n  const updatedStorage = JSON.parse(localStorage.getItem('cards'));\n  const markFromUpdStarage = markupFavorite(updatedStorage);\n  updateNewsList(markFromUpdStarage);\n}\n\nfunction addRemoveToLocalStorage(evt) {\n  if (evt.target.tagName !== 'BUTTON') {\n    return;\n  }\n  let btnAddtoStorage;\n  btnAddtoStorage = evt.target;\n  const btnDivID = evt.target.closest('li.list-news__item').dataset.id;\n\n  if (evt.target.hasAttribute('checked')) {\n    btnAddtoStorage.removeAttribute('checked');\n\n    let storage = localStorage.getItem('cards');\n    const parseStorage = JSON.parse(storage);\n    updateStorageFavotite(parseStorage, btnDivID);\n    return;\n  }\n\n  btnAddtoStorage.setAttribute('checked', true);\n\n  const choosenCardID = evt.target.closest('li.list-news__item').dataset.id;\n  const choosenCardImg = evt.target.closest('div');\n  const imageUrl = choosenCardImg.childNodes[1].src;\n  const section = choosenCardImg.childNodes[3].textContent;\n  const titleDiv = evt.target.closest('article');\n  const title = titleDiv.childNodes[3].textContent;\n  const abstract = titleDiv.childNodes[5].textContent;\n  const published_date = titleDiv.childNodes[7].childNodes[1].textContent;\n  const url = titleDiv.childNodes[7].childNodes[3].href;\n\n  let storage = localStorage.getItem('cards');\n\n  // додаємо елемент\n  const params = {\n    id: choosenCardID,\n    imageUrl: imageUrl,\n    section: section,\n    title: title,\n    abstract: abstract,\n    published_date: published_date,\n    url: url,\n  };\n\n  const parseStorage = JSON.parse(storage);\n  parseStorage.push(params);\n  const strStorage = JSON.stringify(parseStorage);\n  localStorage.setItem('cards', strStorage);\n}\n"],"names":["$f2b37c882cc80f12$var$objFromStorale","localStorage","getItem","$f2b37c882cc80f12$var$objParse","JSON","parse","$f2b37c882cc80f12$var$newsWrapper","document","querySelector","$f2b37c882cc80f12$var$updateNewsList","el","innerHTML","$f2b37c882cc80f12$var$markupFavorite","objParse1","map","title","imageUrl","section","id","abstract","published_date","url","$f2b37c882cc80f12$var$createFavoriteMarkup","addEventListener","evt","target","tagName","btnAddtoStorage","btnDivID","closest","dataset","hasAttribute","removeAttribute","storage","parseStorage","newStorage","reduce","acc","card","push","strStorage","stringify","setItem","updatedStorage","$f2b37c882cc80f12$var$updateStorageFavotite","setAttribute","choosenCardID","choosenCardImg","childNodes","src","textContent","titleDiv","href","params"],"version":3,"file":"favorite.c02ce763.js.map"}