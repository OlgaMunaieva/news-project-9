var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},n={},s=e.parcelRequired7c6;null==s&&((s=function(e){if(e in t)return t[e].exports;if(e in n){var s=n[e];delete n[e];var r={id:e,exports:{}};return t[e]=r,s.call(r.exports,r,r.exports),r.exports}var o=new Error("Cannot find module '"+e+"'");throw o.code="MODULE_NOT_FOUND",o}).register=function(e,t){n[e]=t},e.parcelRequired7c6=s);var r=s("2shzp");var o={randomUUID:"undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};let a;const i=new Uint8Array(16);function c(){if(!a&&(a="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!a))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return a(i)}const l=[];for(let e=0;e<256;++e)l.push((e+256).toString(16).slice(1));function d(e,t=0){return(l[e[t+0]]+l[e[t+1]]+l[e[t+2]]+l[e[t+3]]+"-"+l[e[t+4]]+l[e[t+5]]+"-"+l[e[t+6]]+l[e[t+7]]+"-"+l[e[t+8]]+l[e[t+9]]+"-"+l[e[t+10]]+l[e[t+11]]+l[e[t+12]]+l[e[t+13]]+l[e[t+14]]+l[e[t+15]]).toLowerCase()}var u=function(e,t,n){if(o.randomUUID&&!t&&!e)return o.randomUUID();const s=(e=e||{}).random||(e.rng||c)();if(s[6]=15&s[6]|64,s[8]=63&s[8]|128,t){n=n||0;for(let e=0;e<16;++e)t[n+e]=s[e];return t}return d(s)};const g=document.querySelector(".category_list"),p=document.querySelector(".dropdown_content"),m=document.querySelector(".mobile_category_list"),y=document.querySelector(".category_btn"),f=document.querySelector(".mobile_category_btn"),_=document.querySelector(".category_mob_icon"),b=document.querySelector(".mob-btn-span"),h=document.querySelector(".category_icon"),w=document.querySelector(".list-news");async function v(e){try{const t=`https://api.nytimes.com/svc/news/v3/content/inyt/${e}.json?api-key=AKwAkjVAbzaYm1bK9yzcr2BnwjHsxavz`;return(await r.default.get(t)).data}catch(e){w.style.justifyContent="center",w.innerHTML=k,console.error(e)}}function L({section:e,display_name:t}){return`\n  <li>\n  <button type="button" data-section="${e}" data-name='${t}'> ${t}</button>\n  </li>\n  `}function x({title:e,multimedia:t,section:n,abstract:s,published_date:r,url:o}){var a;return`<li class="list-news__item" data-id="${u()}">\n      <article class="item-news__article">\n        <div class="item-news__wrapper-img">\n          <img class="item-news__img" src="${(null==t||null===(a=t[2])||void 0===a?void 0:a.url)||""}" alt="photo">\n          <p class="item-news__category">${n}</p>\n          <button class="item-news__add-to-favorite" \n          <svg class="heart-icon">\n                <use\n                  href="./images/symbol-defs.svg#icon-heart-empty"\n                ></use></svg>Add to favorite\n          </button>\n        </div>\n        <h2 class="item-news__title">${e}</h2>\n        <p class="item-news__description">${s}</p>\n        <div class="item-news__info">\n          <span class="item-news__info-date">${r}</span>\n          <a class="item-news__info-link" href="${o}" target="_blank" rel="noreferrer noopener">Read more</a>\n        </div>\n      </article>\n    </li>`}f.addEventListener("click",(function(e){m.classList.toggle("category_hidden"),"Categories"===b.textContent?(f.classList.toggle("is-active"),_.classList.toggle("rotate")):_.classList.toggle("rotate")})),m.addEventListener("click",(function(e){if(console.dir(e.target),"BUTTON"!==e.target.tagName)return;const t=e.target.dataset.section,n=e.target.dataset.name;m.classList.add("category_hidden"),f.classList.add("is-active"),_.classList.remove("rotate"),_.style.fill="white",console.log(t),null!=n&&n.length<11?b.textContent=n:b.textContent=`${n.substring(0,9)}...`;v(t).then((e=>{if(null===e.results)w.innerHTML=k,w.style.justifyContent="center";else{const t=e.results.reduce(((e,t)=>e+x(t)),"");w.style.justifyContent="",w.innerHTML=t}}))})),async function(){try{const e="https://api.nytimes.com/svc/news/v3/content/section-list.json?api-key=AKwAkjVAbzaYm1bK9yzcr2BnwjHsxavz";return(await r.default.get(e)).data}catch(e){console.error(e)}}().then((e=>{const t=e.results,n=t.reduce(((e,t)=>e+L(t)),"");m.insertAdjacentHTML("beforeend",n);const s=t.splice(0,6),r=t,o=s.reduce(((e,t)=>e+L(t)),""),a=r.reduce(((e,t)=>e+L(t)),"");g.insertAdjacentHTML("afterbegin",o),p.insertAdjacentHTML("beforeend",a)})),y.addEventListener("click",(function(e){p.classList.toggle("category_hidden"),h.classList.toggle("rotate"),y.classList.toggle("is-active")})),g.addEventListener("click",(function(e){if(e.target.classList.contains("category_btn")||e.target.classList.contains("desk-btn-span")||e.target.classList.contains("category_icon"))return;p.classList.contains("category_hidden")||(p.classList.add("category_hidden"),h.classList.remove("rotate"));const t=e.target.dataset.section;console.log(t),v(t).then((e=>{null===e.results?(w.style.justifyContent="center",w.innerHTML=k):(markup=e.results.reduce(((e,t)=>e+x(t)),""),w.style.justifyContent="",w.innerHTML=markup)}))}));const k='<li><section class="empty">\n  <p class="empty_title">\n    We haven\'t found news\n    <br />\n    from this category\n  </p>\n  <picture>\n    <source\n      srcset="./img/mobile.png 1x, ./img/mobile@2x.png 2x"\n      type="image/png"\n      media="(max-width: 480px)"\n      alt="empty-page"\n    />\n    <source\n      srcset="./img/tablet.png 1x, ./img/tablet@2x.png 2x"\n      type="image/png"\n      media="(max-width:768px)"\n      alt="empty-page"\n    />\n    <source\n      srcset="./img/desktop.png 1x, ./img/desktop@2x.png 2x"\n      type="image/png"\n      media="(min-width: 1280px)"\n      alt="empty-page"\n    />\n    <img\n      class="empty_picture"\n      src="./img/mobile.png"\n      alt="empty-page"\n      width="248"\n      height="198"\n    />\n  </picture>\n</section></li>';newsWrapper.addEventListener("click",(function(e){if("A"===e.target.nodeName){e.target.setAttribute("data-is-read",!0);const t=e.target.parentElement.parentElement.parentElement;console.log(t);const n=document.createElement("p");n.innerText="Already read",n.classList.add("have-read"),t.appendChild(n);t.getAttribute("data-id")}})),localStorage.setItem("cards","[]");
//# sourceMappingURL=index.73ba7323.js.map
