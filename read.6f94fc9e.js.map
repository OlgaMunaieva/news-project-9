{"mappings":"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","sources":["src/js/read.js","node_modules/@swc/helpers/lib/_to_consumable_array.js","node_modules/@swc/helpers/lib/_array_without_holes.js","node_modules/@swc/helpers/lib/_array_like_to_array.js","node_modules/@swc/helpers/lib/_iterable_to_array.js","node_modules/@swc/helpers/lib/_non_iterable_spread.js","node_modules/@swc/helpers/lib/_unsupported_iterable_to_array.js"],"sourcesContent":["\n\nconst readContainer = document.querySelector('.container-read');\n\nconst news = JSON.parse(localStorage.getItem(\"all\")); \nconst readStorage = JSON.parse(localStorage.getItem(\"read-more\"));\n\n\nfunction getDatesFromNews(arr){\n  const result = [...new Set(arr.map(item => item.time.toString()))];\n  return result;\n}\n\n\nfunction renderAccordion() {\n  if(!localStorage.getItem('read-more') || localStorage.getItem('read-more') === '[]'){\n    return;\n  }\n  const array = getDatesFromNews(readStorage)\n  const acordions = array\n    .map(\n      item =>\n        `<button class=\"accordion\">${item}</button>\n        <ul class=\"panel list-news\">\n          \n        </ul>\n    `\n    )\n    .join('');\n  readContainer.innerHTML = acordions;\n}\n\nrenderAccordion();\n\nfunction addRemoveToLocalStorageREAD(evt) {\n  if (evt.target.nodeName !== 'A' ) {\n    return;\n  }\n\n  const readMoreLink = evt.target;\n  readMoreLink.setAttribute('data-is-read', true);\n\n  const ulItem = evt.target.parentElement.parentElement.parentElement;\n  console.log('li item',ulItem);\n  const read = document.createElement('p');\n  read.innerText = 'Already read';\n  read.classList.add('have-read');\n  ulItem.appendChild(read);\n  ulItem.style.opacity = 0.22;\n  const ID = ulItem.getAttribute('data-id');\n\n  const choosenCardID = evt.target.closest('li.list-news__item').dataset.id;\n  const choosenCardImg = evt.target.closest('div');\n  const imageUrl = ulItem.childNodes[1].childNodes[1].childNodes[1].getAttribute('src');\n  const section = choosenCardImg.childNodes[3].textContent;\n  const titleDiv = evt.target.closest('article');\n  const title = titleDiv.childNodes[3].textContent;\n  const abstract = titleDiv.childNodes[5].textContent;\n  const published_date = titleDiv.childNodes[7].childNodes[1].textContent;\n  const url = titleDiv.childNodes[7].childNodes[3].href;\n  const time = new Date().getTime();\n  const date = new Date(time);\n\n  let storage = localStorage.getItem('read-more');\n  console.log(imageUrl);\n  // додаємо елемент\n  const params = {\n    id: choosenCardID,\n    imageUrl: imageUrl,\n    section: section,\n    title: title,\n    abstract: abstract,\n    published_date: published_date,\n    url: url,\n    time: date.toLocaleDateString('en-GB'),\n  };\n\n  const parseStorage = JSON.parse(storage);\n  parseStorage.push(params);\n  const strStorage = JSON.stringify(parseStorage);\n  localStorage.setItem('read-more', strStorage);\n}\nfunction createMarkup({\n  title,\n  media,\n  section,\n  id,\n  abstract,\n  published_date,\n  url,\n  imageUrl\n}) {\n  const imageUrL =\n    media?.[0]?.['media-metadata']?.[2]?.url ||\n    `https://source.unsplash.com/featured/?nature`;\n  \n  const MAX_SNIPPET_LENGTH = 110;\n  if (abstract.length > MAX_SNIPPET_LENGTH) {\n    abstract = abstract.slice(0, MAX_SNIPPET_LENGTH - 3) + '...';\n  }\n  const date = new Date(published_date);\n  const day = date.getDate().toString().padStart(2, '0');\n  const month = (date.getMonth() + 1).toString().padStart(2, '0');\n  const year = date.getFullYear().toString();\n  const formattedDate = `${day}/${month}/${year}`;\n  return `<li class=\"list-news__item\" data-id=\"${id}\" >\n            <article class=\"item-news__article\">\n              <div class=\"item-news__wrapper-img\">\n                <img class=\"item-news__img\" src=\"${imageUrl}\" alt=\"photo\">\n                <p class=\"item-news__category\">${section}</p>\n                <div class=\"article_flag\">\n                  <button class=\"article_flag--add\"><span class=\"article_flag_text\">Add to favorite</span>\n                    <svg width=\"16\" height=\"16\">\n                      <use href=\"./images/symbol-defs.svg#icon-heart-empty\" width=\"16\" height=\"16\"></use>\n                    </svg>\n                  </button>\n                  <button class=\"article_flag--remove is-hidden\"><span class=\"article_flag_text\">Remove from favorite</span>\n                    <svg width=\"16\" height=\"16\">\n                      <use href=\"./images/symbol-defs.svg#icon-heart-fill\" width=\"16\" height=\"16\"></use>\n                    </svg>\n                  </button>\n                </div>\n              </div>\n              <h2 class=\"item-news__title\">${title}</h2>\n              <p class=\"item-news__description\">${abstract}</p>\n              <div class=\"item-news__info\">\n                <span class=\"item-news__info-date\">${formattedDate}</span>\n                <a class=\"item-news__info-link\" href=\"${url}\" target=\"_blank\" rel=\"noreferrer noopener\">Read more</a>\n              </div>\n            </article>\n          </li>`;\n}\n\n\nfunction accordionHandler(e){\n  this.classList.toggle(\"active\");\n  var panel = this.nextElementSibling;\n  console.log(panel);\n  const date = this.textContent;\n  const filtred = readStorage.filter(item=>item.time === date);\n  const liel = filtred.map(createMarkup).join(\"\");\n  panel.innerHTML = liel;\n  if (panel.style.display === \"flex\") {\n    panel.style.display = \"none\";\n  } else {\n    panel.style.display = \"flex\";\n  }\n  \n}\n\nvar acc = document.getElementsByClassName(\"accordion\");\nvar i;\n\nfor (i = 0; i < acc.length; i++) {\n  acc[i].addEventListener(\"click\", accordionHandler);\n}\n\n\nexport default addRemoveToLocalStorageREAD\n//  function readHandler(evt){\n//     console.log(evt.target);\n//     if(evt.target.nodeName !== 'LABEL' ){\n//         console.log('neto');\n//         return\n//     }\n//  }\n\n// readContainer.addEventListener('click',readHandler);\n\n/*<div class=\"list-news__item\" data-id=\"${id}\" >\n            <article class=\"item-news__article\">\n              <div class=\"item-news__wrapper-img\">\n                <img class=\"item-news__img\" src=\"${imageUrl}\" alt=\"photo\">\n                <p class=\"item-news__category\">${section}</p>\n                <button class=\"item-news__add-to-favorite\"\n                <svg class=\"heart-icon\">\n                      <use\n                        href=\"./images/symbol-defs.svg#icon-heart-empty\"\n                      ></use></svg>Add to favorite\n                </button>\n              </div>\n              <h2 class=\"item-news__title\">${title}</h2>\n              <p class=\"item-news__description\">${abstract}</p>\n              <div class=\"item-news__info\">\n                <span class=\"item-news__info-date\">${formattedDate}</span>\n                <a class=\"item-news__info-link\" href=\"${url}\" target=\"_blank\" rel=\"noreferrer noopener\">Read more</a>\n              </div>\n            </article>\n          </div>\n\n          <div class=\"collapsible-accordion\">\n            <div class=\"collapsible-item\">\n                <input type=\"radio\" id=\"rad1\" name=\"radio\">\n                <label class=\"collapsible-item-label\" for=\"rad1\">Item 1</label>\n                <div class=\"collapsible-item-content\">\n                Lorem ipsum dolor sit amet consectetur, adipisicing elit. Ipsum, reiciendis!\n                </div>\n            </div>\n        </div>\n */\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = _toConsumableArray;\nvar _arrayWithoutHoles = _interopRequireDefault(require(\"./_array_without_holes\"));\nvar _iterableToArray = _interopRequireDefault(require(\"./_iterable_to_array\"));\nvar _nonIterableSpread = _interopRequireDefault(require(\"./_non_iterable_spread\"));\nvar _unsupportedIterableToArray = _interopRequireDefault(require(\"./_unsupported_iterable_to_array\"));\nfunction _toConsumableArray(arr) {\n    return (0, _arrayWithoutHoles).default(arr) || (0, _iterableToArray).default(arr) || (0, _unsupportedIterableToArray).default(arr) || (0, _nonIterableSpread).default();\n}\nfunction _interopRequireDefault(obj) {\n    return obj && obj.__esModule ? obj : {\n        default: obj\n    };\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = _arrayWithoutHoles;\nvar _arrayLikeToArray = _interopRequireDefault(require(\"./_array_like_to_array\"));\nfunction _arrayWithoutHoles(arr) {\n    if (Array.isArray(arr)) return (0, _arrayLikeToArray).default(arr);\n}\nfunction _interopRequireDefault(obj) {\n    return obj && obj.__esModule ? obj : {\n        default: obj\n    };\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = _arrayLikeToArray;\nfunction _arrayLikeToArray(arr, len) {\n    if (len == null || len > arr.length) len = arr.length;\n    for(var i = 0, arr2 = new Array(len); i < len; i++)arr2[i] = arr[i];\n    return arr2;\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = _iterableToArray;\nfunction _iterableToArray(iter) {\n    if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter);\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = _nonIterableSpread;\nfunction _nonIterableSpread() {\n    throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = _unsupportedIterableToArray;\nvar _arrayLikeToArray = _interopRequireDefault(require(\"./_array_like_to_array\"));\nfunction _unsupportedIterableToArray(o, minLen) {\n    if (!o) return;\n    if (typeof o === \"string\") return (0, _arrayLikeToArray).default(o, minLen);\n    var n = Object.prototype.toString.call(o).slice(8, -1);\n    if (n === \"Object\" && o.constructor) n = o.constructor.name;\n    if (n === \"Map\" || n === \"Set\") return Array.from(n);\n    if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return (0, _arrayLikeToArray).default(o, minLen);\n}\nfunction _interopRequireDefault(obj) {\n    return obj && obj.__esModule ? obj : {\n        default: obj\n    };\n}\n"],"names":["$8nrFW","parcelRequire","$95b4463fc8ac9448$var$readContainer","document","querySelector","$95b4463fc8ac9448$var$readStorage","JSON","parse","localStorage","getItem","$95b4463fc8ac9448$var$createMarkup","param","ref","ref1","ref2","title","media","section","id","abstract","published_date","url","imageUrl","length","slice","MAX_SNIPPET_LENGTH","date","Date","day","getDate","toString","padStart","month","getMonth","year","getFullYear","formattedDate","concat","$95b4463fc8ac9448$var$accordionHandler","e","this","classList","toggle","panel","nextElementSibling","console","log","textContent","liel","filter","item","time","map","join","innerHTML","style","display","arr","acordions","$parcel$interopDefault","Set","$95b4463fc8ac9448$var$renderAccordion","$95b4463fc8ac9448$var$i","$95b4463fc8ac9448$var$acc","getElementsByClassName","addEventListener","$95b4463fc8ac9448$export$2e2bcd8739ae039","evt","target","nodeName","setAttribute","ulItem","parentElement","read","createElement","innerText","add","appendChild","opacity","getAttribute","choosenCardID","closest","dataset","choosenCardImg","childNodes","titleDiv","href","getTime","storage","params","toLocaleDateString","parseStorage","push","strStorage","stringify","setItem","Object","defineProperty","module","exports","value","default","$6195f07b5409ba15$var$_arrayWithoutHoles","$6195f07b5409ba15$var$_iterableToArray","$6195f07b5409ba15$var$_unsupportedIterableToArray","$6195f07b5409ba15$var$_nonIterableSpread","$6195f07b5409ba15$var$_interopRequireDefault","obj","__esModule","Array","isArray","$f215c72f040a88cf$var$_arrayLikeToArray","len","i","arr2","iter","Symbol","iterator","from","TypeError","o","minLen","$7a2c4c4c44c69707$var$_arrayLikeToArray","n","prototype","call","constructor","name","test"],"version":3,"file":"read.6f94fc9e.js.map"}