{"mappings":"YAAA,IACMA,EAAiBC,SAASC,cAAc,kBAExCC,GADeF,SAASC,cAAc,aACpBD,SAASC,cAAc,sBACzCE,EAAgBH,SAASC,cAAc,yBACvCG,EAAWJ,SAASC,cAAc,iBAClCI,EAAYL,SAASC,cAAc,wBACnCK,EAAgBN,SAASC,cAAc,sBACvCM,EAAaP,SAASC,cAAc,iBACpCO,EAAaR,SAASC,cAAc,kBACtBD,SAASC,cAAc,kBAE3BD,SAASC,cAAc,YAmFvC,SAASQ,EAAaC,G,IAAEC,EAAFD,EAAEC,QAASC,EAAXF,EAAWE,aAC/B,MAAO,mDAEsDC,OAAvBF,EAAQ,kBAAiCE,OAAlBD,EAAa,OAAkBC,OAAbD,EAAa,yB,CAlF9FP,EAAUS,iBAAiB,SAG3B,SAA0BC,GACxBC,QAAQC,IAAIF,EAAMG,QAClBf,EAAcgB,UAAUC,OAAO,mBAEA,eAA3Bb,EAAWc,aACbhB,EAAUc,UAAUC,OAAO,aAC3Bd,EAAca,UAAUC,OAAO,WAE/Bd,EAAca,UAAUC,OAAO,S,IAVnCjB,EAAcW,iBAAiB,SAc/B,SAA0BC,GAExB,GADAC,QAAQM,IAAIP,EAAMG,QACW,WAAzBH,EAAMG,OAAOK,QACf,OAEF,IAAMC,EAAQT,EAAMG,OAAOO,QAAQd,QAC7Be,EAAOX,EAAMG,OAAOO,QAAQE,KAClCxB,EAAcgB,UAAUS,IAAI,mBAC5BvB,EAAUc,UAAUS,IAAI,aACxBtB,EAAca,UAAUU,OAAO,UAC/BvB,EAAcwB,MAAMC,KAAO,QAE3Bf,QAAQC,IAAIO,GAEAQ,MAARN,GAAqBA,EAAKO,OAAS,GACrC1B,EAAWc,YAAcK,EAEzBnB,EAAWc,YAAc,GAAwBR,OAArBa,EAAKQ,UAAU,EAAG,GAAG,M,IAoBrDC,MACE,yEAAiFtB,OArEnE,qCAuEbuB,MAAK,SAAAC,G,OAAYA,EAASC,M,IAC1BF,MAAK,SAAAC,GACJ,IAAME,EAAQF,EAASG,QAEjBC,EAAaF,EAAMG,QAAO,SAACC,EAAQC,GACvC,OAAOD,EAASlC,EAAamC,E,GAC5B,IAEHzC,EAAc0C,mBAAmB,YAAaJ,GAE9C,IAAMK,EAAYP,EAAMQ,OAAO,EAAG,GAC5BC,EAAYT,EAEZU,EAAUH,EAAUJ,QAAO,SAACC,EAAQC,GACxC,OAAOD,EAASlC,EAAamC,E,GAC5B,IACGM,EAAUF,EAAUN,QAAO,SAACC,EAAQC,GACxC,OAAOD,EAASlC,EAAamC,E,GAC5B,IAEH7C,EAAe8C,mBAAmB,aAAcI,GAChD/C,EAAgB2C,mBAAmB,YAAaK,E,IA2CpD9C,EAASU,iBAAiB,SAG1B,SAAyBC,GACvBb,EAAgBiB,UAAUC,OAAO,mBACjCZ,EAAWW,UAAUC,OAAO,UAC5BhB,EAASe,UAAUC,OAAO,Y,IAL5BrB,EAAee,iBAAiB,SAQhC,SAAuBC,GACrB,GACEA,EAAMG,OAAOC,UAAUgC,SAAS,iBAChCpC,EAAMG,OAAOC,UAAUgC,SAAS,kBAChCpC,EAAMG,OAAOC,UAAUgC,SAAS,iBAEhC,OAGGjD,EAAgBiB,UAAUgC,SAAS,qBACtCjD,EAAgBiB,UAAUS,IAAI,mBAC9BpB,EAAWW,UAAUU,OAAO,WAG9Bb,QAAQC,IAAIF,EAAMG,QAClB,IAAMM,EAAQT,EAAMG,OAAOO,QAAQd,QACtBI,EAAMG,OAAOO,QAAQE,KAClCX,QAAQC,IAAIO,E","sources":["src/js/category_menu.js"],"sourcesContent":["const API_KEY = 'AKwAkjVAbzaYm1bK9yzcr2BnwjHsxavz';\nconst categoriesList = document.querySelector('.category_list');\nconst dropDownMenu = document.querySelector('.dropdown');\nconst dropDownContent = document.querySelector('.dropdown_content');\nconst mobileCatList = document.querySelector('.mobile_category_list');\nconst otherBtn = document.querySelector('.category_btn');\nconst mobCatBtn = document.querySelector('.mobile_category_btn');\nconst mobCatBtnIcon = document.querySelector('.category_mob_icon');\nconst mobBtnSpan = document.querySelector('.mob-btn-span');\nconst catBtnIcon = document.querySelector('.category_icon');\nconst deskSpanBtn = document.querySelector('.desk-btn-span');\n\nconst content = document.querySelector('.content');\n\n//---------------------- Mobile categories menu -------------------------------------//\n\nmobCatBtn.addEventListener('click', onClickMobileBtn);\nmobileCatList.addEventListener('click', onClickMobileCat);\n\nfunction onClickMobileBtn(event) {\n  console.log(event.target);\n  mobileCatList.classList.toggle('category_hidden');\n\n  if (mobBtnSpan.textContent === 'Categories') {\n    mobCatBtn.classList.toggle('is-active');\n    mobCatBtnIcon.classList.toggle('rotate');\n  } else {\n    mobCatBtnIcon.classList.toggle('rotate');\n  }\n}\n\nfunction onClickMobileCat(event) {\n  console.dir(event.target);\n  if (event.target.tagName !== 'BUTTON') {\n    return;\n  }\n  const query = event.target.dataset.section;\n  const text = event.target.dataset.name;\n  mobileCatList.classList.add('category_hidden');\n  mobCatBtn.classList.add('is-active');\n  mobCatBtnIcon.classList.remove('rotate');\n  mobCatBtnIcon.style.fill = 'white';\n\n  console.log(query);\n\n  if (text != undefined && text.length < 11) {\n    mobBtnSpan.textContent = text;\n  } else {\n    mobBtnSpan.textContent = `${text.substring(0, 9)}...`;\n  }\n\n  // fetch(\n  //   `https://api.nytimes.com/svc/news/v3/content/inyt/${query}.json?api-key=${API_KEY}`\n  // )\n  //   .then(res => res.json())\n  //   .then(data => {\n  //     console.log(data);\n  //     if (data.results === null) {\n  //       content.innerHTML = \"We don't find any news\";\n  //     } else {\n  //       const cards = data.results.reduce((markup, card) => {\n  //         return markup + createCard(card);\n  //       }, '');\n  //       content.innerHTML = cards;\n  //     }\n  //   });\n}\n\nfetch(\n  `https://api.nytimes.com/svc/news/v3/content/section-list.json?api-key=${API_KEY}`\n)\n  .then(response => response.json())\n  .then(response => {\n    const array = response.results;\n\n    const mobileMenu = array.reduce((markup, card) => {\n      return markup + createMarkup(card);\n    }, '');\n\n    mobileCatList.insertAdjacentHTML('beforeend', mobileMenu);\n\n    const firstBtns = array.splice(0, 6);\n    const otherBtns = array;\n\n    const mainBtn = firstBtns.reduce((markup, card) => {\n      return markup + createMarkup(card);\n    }, '');\n    const listBtn = otherBtns.reduce((markup, card) => {\n      return markup + createMarkup(card);\n    }, '');\n\n    categoriesList.insertAdjacentHTML('afterbegin', mainBtn);\n    dropDownContent.insertAdjacentHTML('beforeend', listBtn);\n  });\n\nfunction createMarkup({ section, display_name }) {\n  return `\n  <li>\n  <button type=\"button\" data-section=\"${section}\" data-name='${display_name}'> ${display_name}</button>\n  </li>\n  `;\n}\n\n// categoriesList.addEventListener('click', e => {\n//   const query = e.target.dataset.section;\n\n//   if (e.target.textContent === 'Other') {\n//     fetch(\n//       `https://api.nytimes.com/svc/news/v3/content/inyt/${query}.json?api-key=${API_KEY}`\n//     )\n//       .then(res => res.json())\n//       .then(data => {\n//         if (data.results === null) {\n//           content.innerHTML = '';\n//         } else {\n//           const cards = data.results.reduce((markup, card) => {\n//             return markup + createCard(card);\n//           }, '');\n//           content.innerHTML = cards;\n//         }\n//       });\n//   }\n// });\n\nfunction createCard({ title, thumbnail_standard }) {\n  return `\n  <div class=\"card\">\n  <h2>${title}</h2>\n  <img src=\"${thumbnail_standard}\">\n  </div>\n  `;\n}\n\n//------------------------- categories menu -------------------------------------//\n\notherBtn.addEventListener('click', onClickOtherBtn);\ncategoriesList.addEventListener('click', onClickCatBtn);\n\nfunction onClickOtherBtn(event) {\n  dropDownContent.classList.toggle('category_hidden');\n  catBtnIcon.classList.toggle('rotate');\n  otherBtn.classList.toggle('is-active');\n}\n\nfunction onClickCatBtn(event) {\n  if (\n    event.target.classList.contains('category_btn') ||\n    event.target.classList.contains('desk-btn-span') ||\n    event.target.classList.contains('category_icon')\n  ) {\n    return;\n  }\n\n  if (!dropDownContent.classList.contains('category_hidden')) {\n    dropDownContent.classList.add('category_hidden');\n    catBtnIcon.classList.remove('rotate');\n  }\n\n  console.log(event.target);\n  const query = event.target.dataset.section;\n  const text = event.target.dataset.name;\n  console.log(query);\n}\n"],"names":["$8d6f0dc2e6b95939$var$categoriesList","document","querySelector","$8d6f0dc2e6b95939$var$dropDownContent","$8d6f0dc2e6b95939$var$mobileCatList","$8d6f0dc2e6b95939$var$otherBtn","$8d6f0dc2e6b95939$var$mobCatBtn","$8d6f0dc2e6b95939$var$mobCatBtnIcon","$8d6f0dc2e6b95939$var$mobBtnSpan","$8d6f0dc2e6b95939$var$catBtnIcon","$8d6f0dc2e6b95939$var$createMarkup","param","section","display_name","concat","addEventListener","event","console","log","target","classList","toggle","textContent","dir","tagName","query","dataset","text","name","add","remove","style","fill","undefined","length","substring","fetch","then","response","json","array","results","mobileMenu","reduce","markup","card","insertAdjacentHTML","firstBtns","splice","otherBtns","mainBtn","listBtn","contains"],"version":3,"file":"index.0f79c15f.js.map"}