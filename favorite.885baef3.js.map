{"mappings":"YAAA,IAAMA,EAAiBC,aAAaC,QAAQ,SACtCC,EAAWC,KAAKC,MAAML,GAEtBM,EAAcC,SAASC,cAAc,cAI3C,SAASC,EAAeC,GACtBJ,EAAYK,UAAYD,C,CA8B1B,SAASE,EAAeC,GAEtB,OADgBA,EAASC,KAAI,SAAAJ,G,OA3B7BK,GAD4BC,EA4B4BN,GA3BxDK,MACAE,EAF4BD,EAE5BC,SACAC,EAH4BF,EAG5BE,QACAC,EAJ4BH,EAI5BG,GACAC,EAL4BJ,EAK5BI,SACAC,EAN4BL,EAM5BK,eACAC,EAP4BN,EAO5BM,IAEO,wCAGoCC,OAHIJ,EAAG,6IAITI,OADEN,EAAS,6DAMfM,OALIL,EAAQ,8MAMPK,OADLR,EAAM,qDAGEQ,OAFHH,EAAS,8FAGHG,OADHF,EAAe,6DACRE,OAAJD,EAAI,0GAtBtD,IAA8BN,EAC5BD,EACAE,EACAC,EACAC,EACAC,EACAC,EACAC,C,IAbFhB,EAAYkB,iBAAiB,SAwD7B,SAAiCC,GAC/B,GAA2B,WAAvBA,EAAIC,OAAOC,QACb,OAEF,IAAIC,EACJA,EAAkBH,EAAIC,OACtB,IAAMG,EAAWJ,EAAIC,OAAOI,QAAQ,sBAAsBC,QAAQZ,GAElE,GAAIM,EAAIC,OAAOM,aAAa,WAAY,CACtCJ,EAAgBK,gBAAgB,WAEhC,IAAIC,EAAUjC,aAAaC,QAAQ,SAGnC,YA7BJ,SAA+BiC,EAAcN,GAC3C,IAAMO,EAAaD,EAAaE,QAAO,SAACC,EAAKC,GAC3C,OAAIA,EAAKpB,KAAOU,GAGhBS,EAAIE,KAAKD,GAFAD,C,GAIR,IACGG,EAAarC,KAAKsC,UAAUN,GAClCnC,aAAa0C,QAAQ,QAASF,GAG9BhC,EAD2BG,EADJR,KAAKC,MAAMJ,aAAaC,QAAQ,W,CAkBrD0C,CADqBxC,KAAKC,MAAM6B,GACIL,E,CAItCD,EAAgBiB,aAAa,WAAW,GAExC,IAAMC,EAAgBrB,EAAIC,OAAOI,QAAQ,sBAAsBC,QAAQZ,GACjE4B,EAAiBtB,EAAIC,OAAOI,QAAQ,OACpCb,EAAW8B,EAAeC,WAAW,GAAGC,IACxC/B,EAAU6B,EAAeC,WAAW,GAAGE,YACvCC,EAAW1B,EAAIC,OAAOI,QAAQ,WAC9Bf,EAAQoC,EAASH,WAAW,GAAGE,YAC/B9B,EAAW+B,EAASH,WAAW,GAAGE,YAClC7B,EAAiB8B,EAASH,WAAW,GAAGA,WAAW,GAAGE,YACtD5B,EAAM6B,EAASH,WAAW,GAAGA,WAAW,GAAGI,KAE7CC,EAAUpD,aAAaC,QAAQ,SAG7BoD,EAAS,CACbnC,GAAI2B,EACJ7B,SAAUA,EACVC,QAASA,EACTH,MAAOA,EACPK,SAAUA,EACVC,eAAgBA,EAChBC,IAAKA,GAGDiC,EAAenD,KAAKC,MAAMgD,GAChCE,EAAaf,KAAKc,GAClB,IAAMb,EAAarC,KAAKsC,UAAUa,GAClCtD,aAAa0C,QAAQ,QAASF,E,IA9DhChC,EADmBG,EAAeT,G","sources":["src/js/favorite.js"],"sourcesContent":["const objFromStorale = localStorage.getItem('cards');\nconst objParse = JSON.parse(objFromStorale);\n\nconst newsWrapper = document.querySelector('.card_list');\n\nnewsWrapper.addEventListener('click', addRemoveToLocalStorage);\n\nfunction updateNewsList(el) {\n  newsWrapper.innerHTML = el;\n}\n\nfunction createFavoriteMarkup({\n  title,\n  imageUrl,\n  section,\n  id,\n  abstract,\n  published_date,\n  url,\n}) {\n  return `<li class=\"list-news__item\" data-id=\"${id}\">\n      <article class=\"item-news__article\">\n        <div class=\"item-news__wrapper-img\">\n          <img class=\"item-news__img\" src=\"${imageUrl}\" alt=\"photo\">\n          <p class=\"item-news__category\">${section}</p>\n          <button checked=\"true\" class=\"item-news__add-to-favorite\">Add to favorite\n            <!-- сердечко -->\n          </button>\n        </div>\n        <h2 class=\"item-news__title\">${title}</h2>\n        <p class=\"item-news__description\">${abstract}</p>\n        <div class=\"item-news__info\">\n          <span class=\"item-news__info-date\">${published_date}</span>\n          <a class=\"item-news__info-link\" href=\"${url}\" target=\"_blank\" rel=\"noreferrer noopener\">Read more</a>\n        </div>\n      </article>\n    </li>`;\n}\nfunction markupFavorite(objParse) {\n  const markFav = objParse.map(el => createFavoriteMarkup(el));\n  return markFav;\n}\n\nconst baseMArkUp = markupFavorite(objParse);\nupdateNewsList(baseMArkUp);\n\nfunction updateStorageFavotite(parseStorage, btnDivID) {\n  const newStorage = parseStorage.reduce((acc, card) => {\n    if (card.id === btnDivID) {\n      return acc;\n    }\n    acc.push(card);\n    return acc;\n  }, []);\n  const strStorage = JSON.stringify(newStorage);\n  localStorage.setItem('cards', strStorage);\n  const updatedStorage = JSON.parse(localStorage.getItem('cards'));\n  const markFromUpdStarage = markupFavorite(updatedStorage);\n  updateNewsList(markFromUpdStarage);\n}\n\nfunction addRemoveToLocalStorage(evt) {\n  if (evt.target.tagName !== 'BUTTON') {\n    return;\n  }\n  let btnAddtoStorage;\n  btnAddtoStorage = evt.target;\n  const btnDivID = evt.target.closest('li.list-news__item').dataset.id;\n\n  if (evt.target.hasAttribute('checked')) {\n    btnAddtoStorage.removeAttribute('checked');\n\n    let storage = localStorage.getItem('cards');\n    const parseStorage = JSON.parse(storage);\n    updateStorageFavotite(parseStorage, btnDivID);\n    return;\n  }\n\n  btnAddtoStorage.setAttribute('checked', true);\n\n  const choosenCardID = evt.target.closest('li.list-news__item').dataset.id;\n  const choosenCardImg = evt.target.closest('div');\n  const imageUrl = choosenCardImg.childNodes[1].src;\n  const section = choosenCardImg.childNodes[3].textContent;\n  const titleDiv = evt.target.closest('article');\n  const title = titleDiv.childNodes[3].textContent;\n  const abstract = titleDiv.childNodes[5].textContent;\n  const published_date = titleDiv.childNodes[7].childNodes[1].textContent;\n  const url = titleDiv.childNodes[7].childNodes[3].href;\n\n  let storage = localStorage.getItem('cards');\n\n  // додаємо елемент\n  const params = {\n    id: choosenCardID,\n    imageUrl: imageUrl,\n    section: section,\n    title: title,\n    abstract: abstract,\n    published_date: published_date,\n    url: url,\n  };\n\n  const parseStorage = JSON.parse(storage);\n  parseStorage.push(params);\n  const strStorage = JSON.stringify(parseStorage);\n  localStorage.setItem('cards', strStorage);\n}\n"],"names":["$8bf2312eefa07846$var$objFromStorale","localStorage","getItem","$8bf2312eefa07846$var$objParse","JSON","parse","$8bf2312eefa07846$var$newsWrapper","document","querySelector","$8bf2312eefa07846$var$updateNewsList","el","innerHTML","$8bf2312eefa07846$var$markupFavorite","objParse1","map","title","param","imageUrl","section","id","abstract","published_date","url","concat","addEventListener","evt","target","tagName","btnAddtoStorage","btnDivID","closest","dataset","hasAttribute","removeAttribute","storage","parseStorage","newStorage","reduce","acc","card","push","strStorage","stringify","setItem","$8bf2312eefa07846$var$updateStorageFavotite","setAttribute","choosenCardID","choosenCardImg","childNodes","src","textContent","titleDiv","href","storage1","params","parseStorage1"],"version":3,"file":"favorite.885baef3.js.map"}