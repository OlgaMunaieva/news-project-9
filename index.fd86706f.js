!function(){function e(e){return e&&e.__esModule?e.default:e}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},r={},a=t.parcelRequired7c6;null==a&&((a=function(e){if(e in n)return n[e].exports;if(e in r){var t=r[e];delete r[e];var a={id:e,exports:{}};return n[e]=a,t.call(a.exports,a,a.exports),a.exports}var o=new Error("Cannot find module '"+e+"'");throw o.code="MODULE_NOT_FOUND",o}).register=function(e,t){r[e]=t},t.parcelRequired7c6=a);var o,c=a("bpxeT"),s=a("2TvXO"),i=a("dIxxU"),l={randomUUID:"undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)},d=new Uint8Array(16);function u(){if(!o&&!(o="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return o(d)}for(var g=[],m=0;m<256;++m)g.push((m+256).toString(16).slice(1));function p(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return(g[e[t+0]]+g[e[t+1]]+g[e[t+2]]+g[e[t+3]]+"-"+g[e[t+4]]+g[e[t+5]]+"-"+g[e[t+6]]+g[e[t+7]]+"-"+g[e[t+8]]+g[e[t+9]]+"-"+g[e[t+10]]+g[e[t+11]]+g[e[t+12]]+g[e[t+13]]+g[e[t+14]]+g[e[t+15]]).toLowerCase()}var v=function(e,t,n){if(l.randomUUID&&!t&&!e)return l.randomUUID();var r=(e=e||{}).random||(e.rng||u)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t){n=n||0;for(var a=0;a<16;++a)t[n+a]=r[a];return t}return p(r)},y="AKwAkjVAbzaYm1bK9yzcr2BnwjHsxavz",f="https://api.nytimes.com/svc/",_="news/v3/content/inyt/",b="https://api.nytimes.com/svc/news/v3/content/section-list.json?",L=document.querySelector(".mobile_category_menu"),h=document.querySelector(".category_list"),w=document.querySelector(".dropdown"),k=document.querySelector(".dropdown_content"),S=document.querySelector(".mobile_category_list"),x=document.querySelector(".category_btn"),E=document.querySelector(".mobile_category_btn"),T=document.querySelector(".category_mob_icon"),U=document.querySelector(".mob-btn-span"),q=document.querySelector(".category_icon"),A=document.querySelector(".list-news"),C=document.querySelector(".empty");function M(e){return D.apply(this,arguments)}function D(){return(D=e(c)(e(s).mark((function t(n){var r,a;return e(s).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r="".concat(f).concat(_).concat(n,".json?api-key=").concat(y),e.next=4,i.default.get(r);case 4:return a=e.sent,e.abrupt("return",a.data);case 8:e.prev=8,e.t0=e.catch(0),console.error(e.t0),A.innerHTML="",C.style.display="block";case 13:case"end":return e.stop()}}),t,null,[[0,8]])})))).apply(this,arguments)}function H(){return(H=e(c)(e(s).mark((function t(){var n,r;return e(s).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n="".concat(b,"api-key=").concat(y),e.next=4,i.default.get(n);case 4:return r=e.sent,e.abrupt("return",r.data);case 8:e.prev=8,e.t0=e.catch(0),console.error(e.t0);case 11:case"end":return e.stop()}}),t,null,[[0,8]])})))).apply(this,arguments)}function j(e){var t=e.composedPath().includes(L);console.log(t),t||S.classList.contains("category_mobile_hidden")||"Categories"!==U.textContent?t||"Categories"===U.textContent||(S.classList.add("category_mobile_hidden"),T.classList.remove("rotate"),document.removeEventListener("click",j)):(S.classList.add("category_mobile_hidden"),E.classList.remove("is-active-category-btn"),T.classList.remove("rotate"),document.removeEventListener("click",j))}function I(e){var t=e.section,n=e.display_name;return'\n  <li>\n  <button type="button" data-section="'.concat(t,"\" data-name='").concat(n,"'> ").concat(n,"</button>\n  </li>\n  ")}function N(e){var t=e.composedPath().includes(w);console.log(t),t||(k.classList.add("category_hidden"),x.classList.remove("is-active-other-btn"),q.classList.remove("rotate"),document.removeEventListener("click",N))}function O(e){var t,n=e.title,r=e.multimedia,a=e.section,o=e.abstract,c=e.published_date,s=e.url,i=v(),l=(null==r||null===(t=r[2])||void 0===t?void 0:t.url)||"";o.length>110&&(o=o.slice(0,107)+"...");var d=new Date(c),u=d.getDate().toString().padStart(2,"0"),g=(d.getMonth()+1).toString().padStart(2,"0"),m=d.getFullYear().toString(),p="".concat(u,"/").concat(g,"/").concat(m);return'<li class="list-news__item" data-id="'.concat(i,'">\n      <article class="item-news__article">\n        <div class="item-news__wrapper-img">\n          <img class="item-news__img" src="').concat(l,'" alt="photo">\n          <p class="item-news__category">').concat(a,'</p>\n          <button class="item-news__add-to-favorite"\n          <svg class="heart-icon">\n                <use\n                  href="./images/symbol-defs.svg#icon-heart-empty"\n                ></use></svg>Add to favorite\n          </button>\n        </div>\n        <h2 class="item-news__title">').concat(n,'</h2>\n        <p class="item-news__description">').concat(o,'</p>\n        <div class="item-news__info">\n          <span class="item-news__info-date">').concat(p,'</span>\n          <a class="item-news__info-link" href="').concat(s,'" target="_blank" rel="noreferrer noopener">Read more</a>\n        </div>\n      </article>\n    </li>')}console.log(w),S.classList.remove("category_hidden"),S.classList.add("category_mobile_hidden"),E.addEventListener("click",(function(e){S.classList.toggle("category_mobile_hidden"),document.addEventListener("click",j),"Categories"===U.textContent?(E.classList.toggle("is-active-category-btn"),T.classList.toggle("rotate")):T.classList.toggle("rotate")})),S.addEventListener("click",(function(e){if(console.dir(e.target),"BUTTON"!==e.target.tagName)return;var t=e.target.dataset.section,n=e.target.dataset.name;S.classList.add("category_mobile_hidden"),E.classList.add("is-active-category-btn"),T.classList.remove("rotate"),T.style.fill="white",console.log(t),null!=n&&n.length<11?U.textContent=n:U.textContent="".concat(n.substring(0,9),"...");M(t).then((function(e){if(null===e.results)A.innerHTML="",C.style.display="block";else{var t=e.results.reduce((function(e,t){return e+O(t)}),"");C.style.display="none",A.innerHTML=t}}))})),function(){return H.apply(this,arguments)}().then((function(e){var t=e.results,n=t.reduce((function(e,t){return e+I(t)}),"");S.insertAdjacentHTML("beforeend",n);var r=t.splice(0,6),a=t,o=r.reduce((function(e,t){return e+I(t)}),""),c=a.reduce((function(e,t){return e+I(t)}),"");h.insertAdjacentHTML("afterbegin",o),k.insertAdjacentHTML("beforeend",c)})),x.addEventListener("click",(function(e){k.classList.toggle("category_hidden"),q.classList.toggle("rotate"),x.classList.toggle("is-active-other-btn"),document.addEventListener("click",N)})),h.addEventListener("click",(function(e){if(e.target.classList.contains("category_btn")||e.target.classList.contains("desk-btn-span")||e.target.classList.contains("category_icon")||"BUTTON"!==e.target.tagName)return;k.classList.contains("category_hidden")||(k.classList.add("category_hidden"),q.classList.remove("rotate"));var t=document.querySelector(".is-active-category-btn");t&&(t.classList.remove("is-active-category-btn"),x.classList.remove("is-active-other-btn"));e.composedPath().includes(k)?(e.target.classList.add("is-active-category-btn"),x.classList.add("is-active-other-btn")):e.target.classList.add("is-active-category-btn");document.removeEventListener("click",N),M(e.target.dataset.section).then((function(e){if(null===e.results)A.innerHTML="",C.style.display="block";else{var t=e.results.reduce((function(e,t){return e+O(t)}),"");C.style.display="none",A.innerHTML=t}}))})),A.addEventListener("click",(function(e){if("A"===e.target.nodeName){e.target.setAttribute("data-is-read",!0);var t=e.target.parentElement.parentElement.parentElement;console.log(t);var n=document.createElement("p");n.innerText="Already read",n.classList.add("have-read"),t.appendChild(n);t.getAttribute("data-id")}})),localStorage.setItem("cards","[]")}();
//# sourceMappingURL=index.fd86706f.js.map
