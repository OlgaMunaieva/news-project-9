var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},s={},a=e.parcelRequired7c6;null==a&&((a=function(e){if(e in t)return t[e].exports;if(e in s){var a=s[e];delete s[e];var n={id:e,exports:{}};return t[e]=n,a.call(n.exports,n,n.exports),n.exports}var i=new Error("Cannot find module '"+e+"'");throw i.code="MODULE_NOT_FOUND",i}).register=function(e,t){s[e]=t},e.parcelRequired7c6=a);var n=a("2shzp");var i=a("1oqhl");const o=document.querySelector(".list-news");async function r(){try{const e="https://api.nytimes.com/svc/mostpopular/v2/viewed/1.json?api-key=mc1GG2VGT2VGMPz3mpzlHGRmnyjAqbuI",t=await n.default.get(e);return console.log(t.data.results),t.data}catch(e){console.error(e)}}function l({title:e,media:t,section:s,id:a,abstract:n,published_date:i,url:o}){var r,l,c;const d=(null==t||null===(r=t[0])||void 0===r||null===(l=r["media-metadata"])||void 0===l||null===(c=l[2])||void 0===c?void 0:c.url)||"https://source.unsplash.com/featured/?nature";n.length>110&&(n=n.slice(0,107)+"...");const g=new Date(i);return`<li class="list-news__item" data-id="${a}" >\n            <article class="item-news__article">\n              <div class="item-news__wrapper-img">\n                <img class="item-news__img" src="${d}" alt="photo">\n                <p class="item-news__category">${s}</p>\n                <div class="article_flag">\n                  <button class="article_flag--add"><span class="article_flag_text">Add to favorite</span>\n                    <svg width="16" height="16">\n                      <use href="./images/symbol-defs.svg#icon-heart-empty" width="16" height="16"></use>\n                    </svg>\n                  </button>\n                  <button class="article_flag--remove is-hidden"><span class="article_flag_text">Remove from favorite</span>\n                    <svg width="16" height="16">\n                      <use href="./images/symbol-defs.svg#icon-heart-fill" width="16" height="16"></use>\n                    </svg>\n                  </button>\n                </div>\n              </div>\n              <h2 class="item-news__title">${e}</h2>\n              <p class="item-news__description">${n}</p>\n              <div class="item-news__info">\n                <span class="item-news__info-date">${`${g.getDate().toString().padStart(2,"0")}/${(g.getMonth()+1).toString().padStart(2,"0")}/${g.getFullYear().toString()}`}</span>\n                <a class="item-news__info-link" href="${o}" target="_blank" rel="noreferrer noopener">Read more</a>\n              </div>\n            </article>\n          </li>`}o.addEventListener("click",(function(e){if(null===localStorage.getItem("cards")&&localStorage.setItem("cards","[]"),"BUTTON"!==e.target.tagName)return;btnAddtoStorage=e.target;const t=e.target.closest("li.list-news__item").dataset.id;if(e.target.hasAttribute("checked")){btnAddtoStorage.removeAttribute("checked");let e=localStorage.getItem("cards");return void function(e,t){const s=e.reduce(((e,s)=>(s.id===t||e.push(s),e)),[]),a=JSON.stringify(s);localStorage.setItem("cards",a)}(JSON.parse(e),t)}btnAddtoStorage.setAttribute("checked",!0);const s=e.target.closest("li.list-news__item").dataset.id,a=e.target.closest("div"),n=a.childNodes[1].src,i=a.childNodes[3].textContent,o=e.target.closest("article"),r=o.childNodes[3].textContent,l=o.childNodes[5].textContent,c=o.childNodes[7].childNodes[1].textContent,d=o.childNodes[7].childNodes[3].href;let g=localStorage.getItem("cards");const u={id:s,imageUrl:n,section:i,title:r,abstract:l,published_date:c,url:d},h=JSON.parse(g);h.push(u);const m=JSON.stringify(h);localStorage.setItem("cards",m)})),o.addEventListener("click",i.addRemoveToLocalStorageREAD),r().then((({results:e})=>e.map(l).join(""))).then((function(e){o.innerHTML=e})),localStorage.setItem("cards","[]"),localStorage.setItem("read-more","[]");
//# sourceMappingURL=index.e07003c6.js.map
