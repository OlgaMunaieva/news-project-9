!function(){function t(t){return t&&t.__esModule?t.default:t}var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},a={},r=e.parcelRequired7c6;null==r&&((r=function(t){if(t in n)return n[t].exports;if(t in a){var e=a[t];delete a[t];var r={id:t,exports:{}};return n[t]=r,e.call(r.exports,r,r.exports),r.exports}var o=new Error("Cannot find module '"+t+"'");throw o.code="MODULE_NOT_FOUND",o}).register=function(t,e){a[t]=e},e.parcelRequired7c6=r);var o,s=r("bpxeT"),c=r("2TvXO"),i=r("dIxxU"),l={randomUUID:"undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)},d=new Uint8Array(16);function u(){if(!o&&!(o="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return o(d)}for(var g=[],m=0;m<256;++m)g.push((m+256).toString(16).slice(1));function v(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return(g[t[e+0]]+g[t[e+1]]+g[t[e+2]]+g[t[e+3]]+"-"+g[t[e+4]]+g[t[e+5]]+"-"+g[t[e+6]]+g[t[e+7]]+"-"+g[t[e+8]]+g[t[e+9]]+"-"+g[t[e+10]]+g[t[e+11]]+g[t[e+12]]+g[t[e+13]]+g[t[e+14]]+g[t[e+15]]).toLowerCase()}var y=function(t,e,n){if(l.randomUUID&&!e&&!t)return l.randomUUID();var a=(t=t||{}).random||(t.rng||u)();if(a[6]=15&a[6]|64,a[8]=63&a[8]|128,e){n=n||0;for(var r=0;r<16;++r)e[n+r]=a[r];return e}return v(a)},p="AKwAkjVAbzaYm1bK9yzcr2BnwjHsxavz",f="https://api.nytimes.com/svc/",b="news/v3/content/inyt/",L="https://api.nytimes.com/svc/news/v3/content/section-list.json?",h=document.querySelector(".mobile_category_menu"),_=document.querySelector(".category_list"),w=document.querySelector(".dropdown"),k=document.querySelector(".dropdown_content"),S=document.querySelector(".mobile_category_list"),x=document.querySelector(".category_btn"),E=document.querySelector(".mobile_category_btn"),q=document.querySelector(".category_mob_icon"),T=document.querySelector(".mob-btn-span"),U=document.querySelector(".category_icon"),A=document.querySelector(".list-news"),M=document.querySelector(".empty"),C=document.querySelector(".checkbox-header__input"),D=document.querySelector(".mob-menu__checkbox-input");function H(t){return j.apply(this,arguments)}function j(){return(j=t(s)(t(c).mark((function e(n){var a,r;return t(c).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a="".concat(f).concat(b).concat(n,".json?api-key=").concat(p),t.next=4,i.default.get(a);case 4:return r=t.sent,t.abrupt("return",r.data);case 8:t.prev=8,t.t0=t.catch(0),console.error(t.t0),A.innerHTML="",M.style.display="block";case 13:case"end":return t.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function N(){return(N=t(s)(t(c).mark((function e(){var n,a;return t(c).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n="".concat(L,"api-key=").concat(p),t.next=4,i.default.get(n);case 4:return a=t.sent,t.abrupt("return",a.data);case 8:t.prev=8,t.t0=t.catch(0),console.error(t.t0);case 11:case"end":return t.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function I(t){var e=t.composedPath().includes(h);console.log(e),e||S.classList.contains("category_mobile_hidden")||"Categories"!==T.textContent?e||"Categories"===T.textContent||(S.classList.add("category_mobile_hidden"),q.classList.remove("rotate"),document.removeEventListener("click",I)):(S.classList.add("category_mobile_hidden"),E.classList.remove("is-active-category-btn"),q.classList.remove("rotate"),document.removeEventListener("click",I))}function O(t){var e=t.section,n=t.display_name;return'\n  <li>\n  <button class="cat-menu-btn" type="button" data-section="'.concat(e,"\" data-name='").concat(n,"'> ").concat(n,"</button>\n  </li>\n  ")}function R(t,e,n){var a=!0,r=!1,o=void 0;try{for(var s,c=t[Symbol.iterator]();!(a=(s=c.next()).done);a=!0)btn=s.value,btn.classList.toggle("dark-categories-btn")}catch(t){r=!0,o=t}finally{try{a||null==c.return||c.return()}finally{if(r)throw o}}e.classList.toggle("dark-categories-btn"),n.classList.toggle("dark-categories-btn")}function V(t){var e=t.composedPath().includes(w);console.log(e),e||x.classList.contains("has-active-button-inside")?!e&&x.classList.contains("has-active-button-inside")&&(k.classList.add("category_hidden"),x.classList.add("is-active-other-btn"),U.classList.remove("rotate"),document.removeEventListener("click",V),console.log("Закриваю меню з активною кнопкою всередині")):(k.classList.add("category_hidden"),x.classList.remove("is-active-other-btn"),U.classList.remove("rotate"),document.removeEventListener("click",V),console.log("Закриваю меню без активної кнопки всередині"))}function z(t){var e,n=t.title,a=t.multimedia,r=t.section,o=t.abstract,s=t.published_date,c=t.url,i=y(),l=(null==a||null===(e=a[2])||void 0===e?void 0:e.url)||"";o.length>110&&(o=o.slice(0,107)+"...");var d=new Date(s),u=d.getDate().toString().padStart(2,"0"),g=(d.getMonth()+1).toString().padStart(2,"0"),m=d.getFullYear().toString(),v="".concat(u,"/").concat(g,"/").concat(m);return'<li class="list-news__item" data-id="'.concat(i,'">\n      <article class="item-news__article">\n        <div class="item-news__wrapper-img">\n          <img class="item-news__img" src="').concat(l,'" alt="photo">\n          <p class="item-news__category">').concat(r,'</p>\n          <button class="item-news__add-to-favorite"\n          <svg class="heart-icon">\n                <use\n                  href="./images/symbol-defs.svg#icon-heart-empty"\n                ></use></svg>Add to favorite\n          </button>\n        </div>\n        <h2 class="item-news__title">').concat(n,'</h2>\n        <p class="item-news__description">').concat(o,'</p>\n        <div class="item-news__info">\n          <span class="item-news__info-date">').concat(v,'</span>\n          <a class="item-news__info-link" href="').concat(c,'" target="_blank" rel="noreferrer noopener">Read more</a>\n        </div>\n      </article>\n    </li>')}S.classList.remove("category_hidden"),S.classList.add("category_mobile_hidden"),E.addEventListener("click",(function(t){S.classList.toggle("category_mobile_hidden"),document.addEventListener("click",I),"Categories"===T.textContent?(E.classList.toggle("is-active-category-btn"),q.classList.toggle("rotate")):q.classList.toggle("rotate")})),S.addEventListener("click",(function(t){if(console.dir(t.target),"BUTTON"!==t.target.tagName)return;var e=t.target.dataset.section,n=t.target.dataset.name;S.classList.add("category_mobile_hidden"),E.classList.add("is-active-category-btn"),q.classList.remove("rotate"),q.style.fill="white",console.log(e),null!=n&&n.length<11?T.textContent=n:T.textContent="".concat(n.substring(0,9),"...");H(e).then((function(t){if(null===t.results)A.innerHTML="",M.style.display="block";else{var e=t.results.reduce((function(t,e){return t+z(e)}),"");M.style.display="none",A.innerHTML=e}}))})),function(){return N.apply(this,arguments)}().then((function(t){var e=t.results,n=e.reduce((function(t,e){return t+O(e)}),"");S.insertAdjacentHTML("beforeend",n);var a=e.splice(0,6),r=e,o=a.reduce((function(t,e){return t+O(e)}),""),s=r.reduce((function(t,e){return t+O(e)}),"");_.insertAdjacentHTML("afterbegin",o),k.insertAdjacentHTML("beforeend",s);var c=document.querySelectorAll(".cat-menu-btn");if(JSON.parse(localStorage.getItem("isDarkMode"))){var i=!0,l=!1,d=void 0;try{for(var u,g=c[Symbol.iterator]();!(i=(u=g.next()).done);i=!0)btn=u.value,btn.classList.add("dark-categories-btn")}catch(t){l=!0,d=t}finally{try{i||null==g.return||g.return()}finally{if(l)throw d}}x.classList.add("dark-categories-btn"),E.classList.add("dark-categories-btn")}C.addEventListener("click",(function(){R(c,x,E)})),D.addEventListener("click",(function(){R(c,x,E)}))})),x.addEventListener("click",(function(t){k.classList.toggle("category_hidden"),U.classList.toggle("rotate"),x.classList.toggle("is-active-other-btn"),document.addEventListener("click",V)})),_.addEventListener("click",(function(t){if(t.target.classList.contains("category_btn")||t.target.classList.contains("desk-btn-span")||t.target.classList.contains("category_icon")||"BUTTON"!==t.target.tagName)return;k.classList.contains("category_hidden")||(k.classList.add("category_hidden"),U.classList.remove("rotate"));var e=document.querySelector(".is-active-category-btn");e&&(e.classList.remove("is-active-category-btn"),x.classList.remove("is-active-other-btn"),x.classList.remove("has-active-button-inside"));t.composedPath().includes(k)?(t.target.classList.add("is-active-category-btn"),x.classList.add("is-active-other-btn"),x.classList.add("has-active-button-inside")):t.target.classList.add("is-active-category-btn");document.removeEventListener("click",V),H(t.target.dataset.section).then((function(t){if(null===t.results)A.innerHTML="",M.style.display="block";else{var e=t.results.reduce((function(t,e){return t+z(e)}),"");M.style.display="none",A.innerHTML=e}}))})),A.addEventListener("click",(function(t){if("A"===t.target.nodeName){t.target.setAttribute("data-is-read",!0);var e=t.target.parentElement.parentElement.parentElement;console.log(e);var n=document.createElement("p");n.innerText="Already read",n.classList.add("have-read"),e.appendChild(n);e.getAttribute("data-id")}}))}();
//# sourceMappingURL=index.be840d0f.js.map
