!function(){var e=document.querySelector(".form-header__icon-search"),t=document.querySelector(".form-header__input");e.addEventListener("click",(function(){document.documentElement.clientWidth<768&&(t.classList.toggle("leaving-input"),e.style.position="absolute",e.style.top="5px",e.style.left="14px");t.classList.contains("leaving-input")||(e.style.position="")}));document.querySelector(".form-header__checkbox");var n=document.querySelector(".checkbox-header__input"),a=document.querySelector(".form-header__icon-sun"),c=document.querySelector(".form-header__icon-moon"),o=document.querySelector(".form-header__dark"),r=document.querySelector(".form-header__light"),s=document.querySelector(".icon-mob-menu"),d=document.querySelector(".header"),i=document.getElementById("searchClear"),l=document.querySelector(".mob-menu__checkbox-input"),m=document.querySelector(".mob-nav-menu"),u=document.querySelector(".mob-icon-sun"),_=document.querySelector(".mob-icon-moon"),h=document.querySelector(".button-menu__icon-close");function k(){document.body.classList.add("body--dark"),a.classList.add("form-header__icon-sun--dark"),c.classList.add("form-header__icon-moon--dark"),o.classList.add("form-header__dark--dark"),r.classList.add("form-header__light--dark"),t.classList.add("form-header__input--dark"),e.classList.add("form-header__icon-search--dark"),s.classList.add("icon-mob-menu--dark"),d.classList.add("header--dark"),i.classList.add("search__clear--dark"),m.classList.add("mob-nav-menu--dark"),u.classList.add("mob-icon-sun--dark"),_.classList.add("mob-icon-moon--dark")}function f(){document.body.classList.remove("body--dark"),a.classList.remove("form-header__icon-sun--dark"),c.classList.remove("form-header__icon-moon--dark"),o.classList.remove("form-header__dark--dark"),r.classList.remove("form-header__light--dark"),t.classList.remove("form-header__input--dark"),e.classList.remove("form-header__icon-search--dark"),s.classList.remove("icon-mob-menu--dark"),d.classList.remove("header--dark"),i.classList.remove("search__clear--dark"),m.classList.remove("mob-nav-menu--dark"),u.classList.remove("mob-icon-sun--dark"),_.classList.remove("mob-icon-moon--dark"),h.classList.add(".button-menu__icon-close--dark")}function v(e){e?(k(),n.checked=!0,l.checked=!0):(f(),n.checked=!1,l.checked=!1),localStorage.setItem("isDarkMode",e)}console.log(l),n.addEventListener("change",(function(){v(n.checked)})),l.addEventListener("change",(function(){var e=l.checked;e?(k(),n.checked=!0):(n.checked=!1,f());l.setAttribute("checked","checked"),localStorage.setItem("isDarkMode",e)})),v(JSON.parse(localStorage.getItem("isDarkMode"))||!1),JSON.parse(localStorage.getItem("isDarkMode"))?(l.checked=!0,n.checked=!0,k()):(l.checked=!1,n.checked=!1,f());var p=window.location.pathname,g=document.getElementById("home__link"),y=document.getElementById("favorite__link"),L=document.getElementById("read__link");"/index.html"===p?g.classList.add("current"):"/favorite.html"===p?y.classList.add("current"):"/read.html"===p?L.classList.add("current"):g.classList.add("current");var b=document.querySelector(".form-header"),S=document.querySelector(".list-news");b.addEventListener("submit",(function(e){e.preventDefault();var n=t.value.trim();""===n?S.innerHTML="":function(e){return fetch("\n  https://api.nytimes.com/svc/search/v2/articlesearch.json?api-key=".concat(w,"&q=").concat(e,"&fq=sort=relevance")).then((function(e){if(404===e.status)throw new Error(e.status);return e.json()}))}(n).then((function(e){var t=e.response.docs;S.innerHTML=t.map((function(e){var t=e.headline.main,n=e.lead_paragraph;n.length>110&&(n=n.slice(0,107)+"...");var a=e.web_url,c=new Date(e.pub_date),o=c.getDate().toString().padStart(2,"0"),r=(c.getMonth()+1).toString().padStart(2,"0"),s=c.getFullYear().toString(),d="".concat(o,"/").concat(r,"/").concat(s),i=e._id,l=e.section_name,m=e.multimedia.length>0?"https://www.nytimes.com/".concat(e.multimedia[0].url):"https://source.unsplash.com/featured/?nature";return'<li class="list-news__item" data-id="'.concat(i,'">\n  <article class="item-news__article">\n       <div class="item-news__wrapper-img">\n <img class="item-news__img" src="').concat(m,'" alt="photo">\n<p class="item-news__category">').concat(l,'</p>\n  <button class="item-news__add-to-favorite"\n <svg class="heart-icon">\n  <use href="./images/symbol-defs.svg#icon-heart-empty"></use></svg>Add to favorite\n           </button>\n         </div>\n         <h2 class="item-news__title">').concat(t,'</h2>\n         <p class="item-news__description">').concat(n,'</p>\n         <div class="item-news__info">\n           <span class="item-news__info-date">').concat(d,'</span>\n           <a class="item-news__info-link" href="').concat(a,'" target="_blank" rel="noreferrer noopener">Read more</a>\n         </div>\n       </article>\n     </li>')})).join(""),localStorage.setItem("nytimesNews",JSON.stringify(e.response.docs))})).catch((function(e){return console.log(e)}))}));var w="Oibsmafk4s4CtvFNxqESgOWZuCdEVskz";var q=document.getElementById("searchClear");console.log(q),t.addEventListener("input",(function(){t.value&&document.documentElement.clientWidth>768?q.style.display="block":q.style.display="none"})),q.addEventListener("click",(function(){t.value="",q.style.display="none"}))}();
//# sourceMappingURL=read.d8fd4362.js.map
