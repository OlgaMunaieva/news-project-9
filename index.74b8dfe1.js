var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},n={},s=e.parcelRequired7c6;null==s&&((s=function(e){if(e in t)return t[e].exports;if(e in n){var s=n[e];delete n[e];var a={id:e,exports:{}};return t[e]=a,s.call(a.exports,a,a.exports),a.exports}var o=new Error("Cannot find module '"+e+"'");throw o.code="MODULE_NOT_FOUND",o}).register=function(e,t){n[e]=t},e.parcelRequired7c6=s);var a=s("2shzp");var o=s("1oqhl");const i=document.querySelector(".list-news");async function r(){try{const e="https://api.nytimes.com/svc/mostpopular/v2/viewed/1.json?api-key=mc1GG2VGT2VGMPz3mpzlHGRmnyjAqbuI",t=await a.default.get(e);return console.log(t.data.results),t.data}catch(e){console.error(e)}}function l({title:e,media:t,section:n,id:s,abstract:a,published_date:o,url:i}){var r,l,d;const c=(null==t||null===(r=t[0])||void 0===r||null===(l=r["media-metadata"])||void 0===l||null===(d=l[2])||void 0===d?void 0:d.url)||"https://source.unsplash.com/featured/?nature";a.length>110&&(a=a.slice(0,107)+"...");const u=new Date(o);return`<li class="list-news__item" data-id="${s}" >\n      <article class="item-news__article">\n        <div class="item-news__wrapper-img">\n          <img class="item-news__img" src="${c}" alt="photo">\n          <p class="item-news__category">${n}</p>\n          <button class="item-news__add-to-favorite" \n          <svg class="heart-icon">\n                <use\n                  href="./images/symbol-defs.svg#icon-heart-empty"\n                ></use></svg>Add to favorite\n          </button>\n        </div>\n        <h2 class="item-news__title">${e}</h2>\n        <p class="item-news__description">${a}</p>\n        <div class="item-news__info">\n          <span class="item-news__info-date">${`${u.getDate().toString().padStart(2,"0")}/${(u.getMonth()+1).toString().padStart(2,"0")}/${u.getFullYear().toString()}`}</span>\n          <a class="item-news__info-link" href="${i}" target="_blank" rel="noreferrer noopener">Read more</a>\n        </div>\n      </article>\n    </li>`}i.addEventListener("click",(function(e){if("BUTTON"!==e.target.tagName)return;btnAddtoStorage=e.target;const t=e.target.closest("li.list-news__item").dataset.id;if(e.target.hasAttribute("checked")){btnAddtoStorage.removeAttribute("checked");let e=localStorage.getItem("cards");return void function(e,t){const n=e.reduce(((e,n)=>(n.id===t||e.push(n),e)),[]),s=JSON.stringify(n);localStorage.setItem("cards",s)}(JSON.parse(e),t)}btnAddtoStorage.setAttribute("checked",!0);const n=e.target.closest("li.list-news__item").dataset.id,s=e.target.closest("div"),a=s.childNodes[1].src,o=s.childNodes[3].textContent,i=e.target.closest("article"),r=i.childNodes[3].textContent,l=i.childNodes[5].textContent,d=i.childNodes[7].childNodes[1].textContent,c=i.childNodes[7].childNodes[3].href;let u=localStorage.getItem("cards");const g={id:n,imageUrl:a,section:o,title:r,abstract:l,published_date:d,url:c},m=JSON.parse(u);m.push(g);const p=JSON.stringify(m);localStorage.setItem("cards",p)})),i.addEventListener("click",o.addRemoveToLocalStorageREAD),r().then((({results:e})=>e.map(l).join(""))).then((function(e){i.innerHTML=e})),localStorage.setItem("cards","[]"),localStorage.setItem("read-more","[]");
//# sourceMappingURL=index.74b8dfe1.js.map
