{"mappings":"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","sources":["node_modules/@swc/helpers/lib/_array_without_holes.js","node_modules/@swc/helpers/lib/_array_like_to_array.js","node_modules/@swc/helpers/lib/_iterable_to_array.js","node_modules/@swc/helpers/lib/_non_iterable_spread.js","node_modules/@swc/helpers/lib/_unsupported_iterable_to_array.js","node_modules/@swc/helpers/lib/_to_consumable_array.js","src/js/read.js"],"sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = _arrayWithoutHoles;\nvar _arrayLikeToArray = _interopRequireDefault(require(\"./_array_like_to_array\"));\nfunction _arrayWithoutHoles(arr) {\n    if (Array.isArray(arr)) return (0, _arrayLikeToArray).default(arr);\n}\nfunction _interopRequireDefault(obj) {\n    return obj && obj.__esModule ? obj : {\n        default: obj\n    };\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = _arrayLikeToArray;\nfunction _arrayLikeToArray(arr, len) {\n    if (len == null || len > arr.length) len = arr.length;\n    for(var i = 0, arr2 = new Array(len); i < len; i++)arr2[i] = arr[i];\n    return arr2;\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = _iterableToArray;\nfunction _iterableToArray(iter) {\n    if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter);\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = _nonIterableSpread;\nfunction _nonIterableSpread() {\n    throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = _unsupportedIterableToArray;\nvar _arrayLikeToArray = _interopRequireDefault(require(\"./_array_like_to_array\"));\nfunction _unsupportedIterableToArray(o, minLen) {\n    if (!o) return;\n    if (typeof o === \"string\") return (0, _arrayLikeToArray).default(o, minLen);\n    var n = Object.prototype.toString.call(o).slice(8, -1);\n    if (n === \"Object\" && o.constructor) n = o.constructor.name;\n    if (n === \"Map\" || n === \"Set\") return Array.from(n);\n    if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return (0, _arrayLikeToArray).default(o, minLen);\n}\nfunction _interopRequireDefault(obj) {\n    return obj && obj.__esModule ? obj : {\n        default: obj\n    };\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = _toConsumableArray;\nvar _arrayWithoutHoles = _interopRequireDefault(require(\"./_array_without_holes\"));\nvar _iterableToArray = _interopRequireDefault(require(\"./_iterable_to_array\"));\nvar _nonIterableSpread = _interopRequireDefault(require(\"./_non_iterable_spread\"));\nvar _unsupportedIterableToArray = _interopRequireDefault(require(\"./_unsupported_iterable_to_array\"));\nfunction _toConsumableArray(arr) {\n    return (0, _arrayWithoutHoles).default(arr) || (0, _iterableToArray).default(arr) || (0, _unsupportedIterableToArray).default(arr) || (0, _nonIterableSpread).default();\n}\nfunction _interopRequireDefault(obj) {\n    return obj && obj.__esModule ? obj : {\n        default: obj\n    };\n}\n","\n\nconst readContainer = document.querySelector('.container-read');\n\nconst news = JSON.parse(localStorage.getItem(\"all\")); \nconst readStorage = JSON.parse(localStorage.getItem(\"read-more\"));\n\n\nfunction getDatesFromNews(arr){\n  const result = [...new Set(arr.map(item => item.time.toString()))];\n  return result;\n}\n\n\nfunction renderAccordion() {\n  if(!localStorage.getItem('read-more') || localStorage.getItem('read-more') === '[]'){\n    return;\n  }\n  const array = getDatesFromNews(readStorage)\n  const acordions = array\n    .map(\n      item =>\n        `<button class=\"accordion\">${item}</button>\n        <ul class=\"panel list-news\">\n          \n        </ul>\n    `\n    )\n    .join('');\n  readContainer.innerHTML = acordions;\n}\n\nrenderAccordion();\n\n\nfunction createMarkup({\n  title,\n  media,\n  section,\n  id,\n  abstract,\n  published_date,\n  url,\n  imageUrl\n}) {\n  const imageUrL =\n    media?.[0]?.['media-metadata']?.[2]?.url ||\n    `https://source.unsplash.com/featured/?nature`;\n  \n  const MAX_SNIPPET_LENGTH = 110;\n  if (abstract.length > MAX_SNIPPET_LENGTH) {\n    abstract = abstract.slice(0, MAX_SNIPPET_LENGTH - 3) + '...';\n  }\n  const date = new Date(published_date);\n  const day = date.getDate().toString().padStart(2, '0');\n  const month = (date.getMonth() + 1).toString().padStart(2, '0');\n  const year = date.getFullYear().toString();\n  const formattedDate = `${day}/${month}/${year}`;\n  return `<li class=\"list-news__item\" data-id=\"${id}\" >\n            <article class=\"item-news__article\">\n              <div class=\"item-news__wrapper-img\">\n                <img class=\"item-news__img\" src=\"${imageUrl}\" alt=\"photo\">\n                <p class=\"item-news__category\">${section}</p>\n                <div class=\"article_flag\">\n                  <button class=\"article_flag--add\"><span class=\"article_flag_text\">Add to favorite</span>\n                    <svg width=\"16\" height=\"16\">\n                      <use href=\"./images/symbol-defs.svg#icon-heart-empty\" width=\"16\" height=\"16\"></use>\n                    </svg>\n                  </button>\n                  <button class=\"article_flag--remove is-hidden\"><span class=\"article_flag_text\">Remove from favorite</span>\n                    <svg width=\"16\" height=\"16\">\n                      <use href=\"./images/symbol-defs.svg#icon-heart-fill\" width=\"16\" height=\"16\"></use>\n                    </svg>\n                  </button>\n                </div>\n              </div>\n              <h2 class=\"item-news__title\">${title}</h2>\n              <p class=\"item-news__description\">${abstract}</p>\n              <div class=\"item-news__info\">\n                <span class=\"item-news__info-date\">${formattedDate}</span>\n                <a class=\"item-news__info-link\" href=\"${url}\" target=\"_blank\" rel=\"noreferrer noopener\">Read more</a>\n              </div>\n            </article>\n          </li>`;\n}\n\n\nfunction accordionHandler(e){\n  this.classList.toggle(\"active\");\n  var panel = this.nextElementSibling;\n  console.log(panel);\n  const date = this.textContent;\n  const filtred = readStorage.filter(item=>item.time === date);\n  const liel = filtred.map(createMarkup).join(\"\");\n  panel.innerHTML = liel;\n  if (panel.style.display === \"flex\") {\n    panel.style.display = \"none\";\n  } else {\n    panel.style.display = \"flex\";\n  }\n  \n}\n\nvar acc = document.getElementsByClassName(\"accordion\");\nvar i;\n\nfor (i = 0; i < acc.length; i++) {\n  acc[i].addEventListener(\"click\", accordionHandler);\n}\n\n\nexport default addRemoveToLocalStorageREAD\n//  function readHandler(evt){\n//     console.log(evt.target);\n//     if(evt.target.nodeName !== 'LABEL' ){\n//         console.log('neto');\n//         return\n//     }\n//  }\n\n// readContainer.addEventListener('click',readHandler);\n\n/*<div class=\"list-news__item\" data-id=\"${id}\" >\n            <article class=\"item-news__article\">\n              <div class=\"item-news__wrapper-img\">\n                <img class=\"item-news__img\" src=\"${imageUrl}\" alt=\"photo\">\n                <p class=\"item-news__category\">${section}</p>\n                <button class=\"item-news__add-to-favorite\"\n                <svg class=\"heart-icon\">\n                      <use\n                        href=\"./images/symbol-defs.svg#icon-heart-empty\"\n                      ></use></svg>Add to favorite\n                </button>\n              </div>\n              <h2 class=\"item-news__title\">${title}</h2>\n              <p class=\"item-news__description\">${abstract}</p>\n              <div class=\"item-news__info\">\n                <span class=\"item-news__info-date\">${formattedDate}</span>\n                <a class=\"item-news__info-link\" href=\"${url}\" target=\"_blank\" rel=\"noreferrer noopener\">Read more</a>\n              </div>\n            </article>\n          </div>\n\n          <div class=\"collapsible-accordion\">\n            <div class=\"collapsible-item\">\n                <input type=\"radio\" id=\"rad1\" name=\"radio\">\n                <label class=\"collapsible-item-label\" for=\"rad1\">Item 1</label>\n                <div class=\"collapsible-item-content\">\n                Lorem ipsum dolor sit amet consectetur, adipisicing elit. Ipsum, reiciendis!\n                </div>\n            </div>\n        </div>\n */\n"],"names":["Object","defineProperty","module","exports","value","default","arr","Array","isArray","$f215c72f040a88cf$var$_arrayLikeToArray","obj","parcelRequire","__esModule","len","length","i","arr2","iter","Symbol","iterator","from","TypeError","o","minLen","$7a2c4c4c44c69707$var$_arrayLikeToArray","n","prototype","toString","call","slice","constructor","name","test","$6195f07b5409ba15$exports","$6195f07b5409ba15$var$_arrayWithoutHoles","$6195f07b5409ba15$var$_iterableToArray","$6195f07b5409ba15$var$_unsupportedIterableToArray","$6195f07b5409ba15$var$_nonIterableSpread","$6195f07b5409ba15$var$_interopRequireDefault","$95b4463fc8ac9448$var$readContainer","document","querySelector","$95b4463fc8ac9448$var$readStorage","JSON","parse","localStorage","getItem","$95b4463fc8ac9448$var$createMarkup","param","ref","ref1","ref2","title","media","section","id","abstract","published_date","url","imageUrl","MAX_SNIPPET_LENGTH","date","Date","day","getDate","padStart","month","getMonth","year","getFullYear","formattedDate","concat","$95b4463fc8ac9448$var$accordionHandler","e","this","classList","toggle","panel","nextElementSibling","console","log","textContent","liel","filter","item","time","map","join","innerHTML","style","display","acordions","$parcel$interopDefault","Set","$95b4463fc8ac9448$var$renderAccordion","$95b4463fc8ac9448$var$i","$95b4463fc8ac9448$var$acc","getElementsByClassName","addEventListener","addRemoveToLocalStorageREAD"],"version":3,"file":"read.79bd1bf0.js.map"}