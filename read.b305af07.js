var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},n={},a=e.parcelRequired7c6;null==a&&((a=function(e){if(e in t)return t[e].exports;if(e in n){var a=n[e];delete n[e];var i={id:e,exports:{}};return t[e]=i,a.call(i.exports,i,i.exports),i.exports}var l=new Error("Cannot find module '"+e+"'");throw l.code="MODULE_NOT_FOUND",l}).register=function(e,t){n[e]=t},e.parcelRequired7c6=a),a.register("1oqhl",(function(e,t){var n,a,i,l;n=e.exports,a="default",i=function(){return m},Object.defineProperty(n,a,{get:i,set:l,enumerable:!0,configurable:!0});const s=document.querySelector(".container-read"),o=(JSON.parse(localStorage.getItem("all")),JSON.parse(localStorage.getItem("read-more")));function r({title:e,media:t,section:n,id:a,abstract:i,published_date:l,url:s,imageUrl:o}){var r,d,c;null==t||null===(r=t[0])||void 0===r||null===(d=r["media-metadata"])||void 0===d||null===(c=d[2])||void 0===c||c.url;i.length>110&&(i=i.slice(0,107)+"...");const g=new Date(l);return`<li class="list-news__item" data-id="${a}" >\n            <article class="item-news__article">\n              <div class="item-news__wrapper-img">\n                <img class="item-news__img" src="${o}" alt="photo">\n                <p class="item-news__category">${n}</p>\n                <div class="article_flag">\n                  <button class="article_flag--add"><span class="article_flag_text">Add to favorite</span>\n                    <svg width="16" height="16">\n                      <use href="./images/symbol-defs.svg#icon-heart-empty" width="16" height="16"></use>\n                    </svg>\n                  </button>\n                  <button class="article_flag--remove is-hidden"><span class="article_flag_text">Remove from favorite</span>\n                    <svg width="16" height="16">\n                      <use href="./images/symbol-defs.svg#icon-heart-fill" width="16" height="16"></use>\n                    </svg>\n                  </button>\n                </div>\n              </div>\n              <h2 class="item-news__title">${e}</h2>\n              <p class="item-news__description">${i}</p>\n              <div class="item-news__info">\n                <span class="item-news__info-date">${`${g.getDate().toString().padStart(2,"0")}/${(g.getMonth()+1).toString().padStart(2,"0")}/${g.getFullYear().toString()}`}</span>\n                <a class="item-news__info-link" href="${s}" target="_blank" rel="noreferrer noopener">Read more</a>\n              </div>\n            </article>\n          </li>`}function d(e){this.classList.toggle("active");var t=this.nextElementSibling;console.log(t);const n=this.textContent,a=o.filter((e=>e.time===n)).map(r).join("");t.innerHTML=a,"flex"===t.style.display?t.style.display="none":t.style.display="flex"}!function(){if(!localStorage.getItem("read-more")||"[]"===localStorage.getItem("read-more"))return;const e=[...new Set(o.map((e=>e.time.toString())))].map((e=>`<button class="accordion">${e}</button>\n        <ul class="panel list-news">\n          \n        </ul>\n    `)).join("");s.innerHTML=e}();var c,g=document.getElementsByClassName("accordion");for(c=0;c<g.length;c++)g[c].addEventListener("click",d);var m=function(e){if("A"!==e.target.nodeName)return;e.target.setAttribute("data-is-read",!0);const t=e.target.parentElement.parentElement.parentElement;console.log("li item",t);const n=document.createElement("p");n.innerText="Already read",n.classList.add("have-read"),t.appendChild(n),t.style.opacity=.22,t.getAttribute("data-id");const a=e.target.closest("li.list-news__item").dataset.id,i=e.target.closest("div"),l=t.childNodes[1].childNodes[1].childNodes[1].getAttribute("src"),s=i.childNodes[3].textContent,o=e.target.closest("article"),r=o.childNodes[3].textContent,d=o.childNodes[5].textContent,c=o.childNodes[7].childNodes[1].textContent,g=o.childNodes[7].childNodes[3].href,m=(new Date).getTime(),u=new Date(m);let p=localStorage.getItem("read-more");console.log(l);const f={id:a,imageUrl:l,section:s,title:r,abstract:d,published_date:c,url:g,time:u.toLocaleDateString("en-GB")},h=JSON.parse(p);h.push(f);const _=JSON.stringify(h);localStorage.setItem("read-more",_)}})),a("1oqhl");
//# sourceMappingURL=read.b305af07.js.map
