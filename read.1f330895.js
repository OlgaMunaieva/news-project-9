const e=document.querySelector(".form-header__icon-search"),t=document.querySelector(".form-header__input");e.addEventListener("click",(function(){document.documentElement.clientWidth<768&&(t.classList.toggle("leaving-input"),e.style.position="absolute",e.style.top="5px",e.style.left="14px");t.classList.contains("leaving-input")||(e.style.position="")}));document.querySelector(".form-header__checkbox");const s=document.querySelector(".checkbox-header__input"),n=document.querySelector(".form-header__icon-sun"),a=document.querySelector(".form-header__icon-moon"),r=document.querySelector(".form-header__dark"),o=document.querySelector(".form-header__light"),c=document.querySelector(".icon-mob-menu");function i(i){i?(document.body.classList.add("body--dark"),n.classList.add("form-header__icon-sun--dark"),a.classList.add("form-header__icon-moon--dark"),r.classList.add("form-header__dark--dark"),o.classList.add("form-header__light--dark"),t.classList.add("form-header__input--dark"),e.classList.add("form-header__icon-search--dark"),c.classList.add("icon-mob-menu--dark"),s.checked=!0):(document.body.classList.remove("body--dark"),n.classList.remove("form-header__icon-sun--dark"),a.classList.remove("form-header__icon-moon--dark"),r.classList.remove("form-header__dark--dark"),o.classList.remove("form-header__light--dark"),t.classList.remove("form-header__input--dark"),e.classList.remove("form-header__icon-search--dark"),c.classList.remove("icon-mob-menu--dark"),s.checked=!1),localStorage.setItem("isDarkMode",i)}s.addEventListener("change",(function(){i(s.checked)}));i(JSON.parse(localStorage.getItem("isDarkMode"))||!1);const d=window.location.pathname,l=document.getElementById("home__link"),m=document.getElementById("favorite__link"),u=document.getElementById("read__link");"/index.html"===d?l.classList.add("current"):"/favorite.html"===d?m.classList.add("current"):"/read.html"===d?u.classList.add("current"):l.classList.add("current");const _=document.querySelector(".form-header"),h=document.querySelector(".list-news");_.addEventListener("submit",(function(e){e.preventDefault();const s=t.value.trim();""===s?h.innerHTML="":function(e){return fetch(`\n  https://api.nytimes.com/svc/search/v2/articlesearch.json?api-key=Oibsmafk4s4CtvFNxqESgOWZuCdEVskz&q=${e}&fq=sort=relevance`).then((e=>{if(404===e.status)throw new Error(e.status);return e.json()}))}(s).then((e=>{const t=e.response.docs;h.innerHTML=t.map((e=>{const t=e.headline.main;let s=e.lead_paragraph;s.length>110&&(s=s.slice(0,107)+"...");const n=e.web_url,a=new Date(e.pub_date),r=`${a.getDate().toString().padStart(2,"0")}/${(a.getMonth()+1).toString().padStart(2,"0")}/${a.getFullYear().toString()}`,o=e._id,c=e.section_name;return`<li class="list-news__item" data-id="${o}">\n  <article class="item-news__article">\n       <div class="item-news__wrapper-img">\n <img class="item-news__img" src="${e.multimedia.length>0?`https://www.nytimes.com/${e.multimedia[0].url}`:"https://source.unsplash.com/featured/?nature"}" alt="photo">\n<p class="item-news__category">${c}</p>\n  <button class="item-news__add-to-favorite"\n <svg class="heart-icon">\n  <use href="./images/symbol-defs.svg#icon-heart-empty"></use></svg>Add to favorite\n           </button>\n         </div>\n         <h2 class="item-news__title">${t}</h2>\n         <p class="item-news__description">${s}</p>\n         <div class="item-news__info">\n           <span class="item-news__info-date">${r}</span>\n           <a class="item-news__info-link" href="${n}" target="_blank" rel="noreferrer noopener">Read more</a>\n         </div>\n       </article>\n     </li>`})).join("")})).catch((e=>console.log(e)))}));const f=document.querySelector("#searchClear");f.addEventListener("click",(()=>{t.value="",console.log(t.value)})),t.addEventListener("input",(()=>{t.value?f.style.display="block":f.style.display="none"}));
//# sourceMappingURL=read.1f330895.js.map
