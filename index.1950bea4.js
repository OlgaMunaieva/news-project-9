!function(){function t(t){return t&&t.__esModule?t.default:t}var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},r={},a=e.parcelRequired7c6;null==a&&((a=function(t){if(t in n)return n[t].exports;if(t in r){var e=r[t];delete r[t];var a={id:t,exports:{}};return n[t]=a,e.call(a.exports,a,a.exports),a.exports}var o=new Error("Cannot find module '"+t+"'");throw o.code="MODULE_NOT_FOUND",o}).register=function(t,e){r[t]=e},e.parcelRequired7c6=a);var o,s=a("bpxeT"),i=a("2TvXO"),c=a("dIxxU"),l={randomUUID:"undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)},u=new Uint8Array(16);function d(){if(!o&&!(o="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return o(u)}for(var p=[],g=0;g<256;++g)p.push((g+256).toString(16).slice(1));function m(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return(p[t[e+0]]+p[t[e+1]]+p[t[e+2]]+p[t[e+3]]+"-"+p[t[e+4]]+p[t[e+5]]+"-"+p[t[e+6]]+p[t[e+7]]+"-"+p[t[e+8]]+p[t[e+9]]+"-"+p[t[e+10]]+p[t[e+11]]+p[t[e+12]]+p[t[e+13]]+p[t[e+14]]+p[t[e+15]]).toLowerCase()}var f=function(t,e,n){if(l.randomUUID&&!e&&!t)return l.randomUUID();var r=(t=t||{}).random||(t.rng||d)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,e){n=n||0;for(var a=0;a<16;++a)e[n+a]=r[a];return e}return m(r)},y="AKwAkjVAbzaYm1bK9yzcr2BnwjHsxavz",v="https://api.nytimes.com/svc/",_="news/v3/content/inyt/",h="https://api.nytimes.com/svc/news/v3/content/section-list.json?",b=document.querySelector(".category_list"),w=document.querySelector(".dropdown_content"),L=document.querySelector(".mobile_category_list"),x=document.querySelector(".category_btn"),k=document.querySelector(".mobile_category_btn"),T=document.querySelector(".category_mob_icon"),U=document.querySelector(".mob-btn-span"),j=document.querySelector(".category_icon"),A=document.querySelector(".list-news");function C(t){return E.apply(this,arguments)}function E(){return(E=t(s)(t(i).mark((function e(n){var r,a;return t(i).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r="".concat(v).concat(_).concat(n,".json?api-key=").concat(y),t.next=4,c.default.get(r);case 4:return a=t.sent,t.abrupt("return",a.data);case 8:t.prev=8,t.t0=t.catch(0),A.style.justifyContent="center",A.innerHTML=H,console.error(t.t0);case 13:case"end":return t.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function S(){return(S=t(s)(t(i).mark((function e(){var n,r;return t(i).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n="".concat(h,"api-key=").concat(y),t.next=4,c.default.get(n);case 4:return r=t.sent,t.abrupt("return",r.data);case 8:t.prev=8,t.t0=t.catch(0),console.error(t.t0);case 11:case"end":return t.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function q(t){var e=t.section,n=t.display_name;return'\n  <li>\n  <button type="button" data-section="'.concat(e,"\" data-name='").concat(n,"'> ").concat(n,"</button>\n  </li>\n  ")}function M(t){var e,n=t.title,r=t.multimedia,a=t.section,o=t.abstract,s=t.published_date,i=t.url,c=f(),l=(null==r||null===(e=r[2])||void 0===e?void 0:e.url)||"";return'<li class="list-news__item" data-id="'.concat(c,'">\n      <article class="item-news__article">\n        <div class="item-news__wrapper-img">\n          <img class="item-news__img" src="').concat(l,'" alt="photo">\n          <p class="item-news__category">').concat(a,'</p>\n          <button class="item-news__add-to-favorite" \n          <svg class="heart-icon">\n                <use\n                  href="./images/symbol-defs.svg#icon-heart-empty"\n                ></use></svg>Add to favorite\n          </button>\n        </div>\n        <h2 class="item-news__title">').concat(n,'</h2>\n        <p class="item-news__description">').concat(o,'</p>\n        <div class="item-news__info">\n          <span class="item-news__info-date">').concat(s,'</span>\n          <a class="item-news__info-link" href="').concat(i,'" target="_blank" rel="noreferrer noopener">Read more</a>\n        </div>\n      </article>\n    </li>')}k.addEventListener("click",(function(t){L.classList.toggle("category_hidden"),"Categories"===U.textContent?(k.classList.toggle("is-active"),T.classList.toggle("rotate")):T.classList.toggle("rotate")})),L.addEventListener("click",(function(t){if(console.dir(t.target),"BUTTON"!==t.target.tagName)return;var e=t.target.dataset.section,n=t.target.dataset.name;L.classList.add("category_hidden"),k.classList.add("is-active"),T.classList.remove("rotate"),T.style.fill="white",console.log(e),null!=n&&n.length<11?U.textContent=n:U.textContent="".concat(n.substring(0,9),"...");C(e).then((function(t){if(null===t.results)A.innerHTML=H,A.style.justifyContent="center";else{var e=t.results.reduce((function(t,e){return t+M(e)}),"");A.style.justifyContent="",A.innerHTML=e}}))})),function(){return S.apply(this,arguments)}().then((function(t){var e=t.results,n=e.reduce((function(t,e){return t+q(e)}),"");L.insertAdjacentHTML("beforeend",n);var r=e.splice(0,6),a=e,o=r.reduce((function(t,e){return t+q(e)}),""),s=a.reduce((function(t,e){return t+q(e)}),"");b.insertAdjacentHTML("afterbegin",o),w.insertAdjacentHTML("beforeend",s)})),x.addEventListener("click",(function(t){w.classList.toggle("category_hidden"),j.classList.toggle("rotate"),x.classList.toggle("is-active")})),b.addEventListener("click",(function(t){if(t.target.classList.contains("category_btn")||t.target.classList.contains("desk-btn-span")||t.target.classList.contains("category_icon"))return;w.classList.contains("category_hidden")||(w.classList.add("category_hidden"),j.classList.remove("rotate"));var e=t.target.dataset.section;console.log(e),C(e).then((function(t){null===t.results?(A.style.justifyContent="center",A.innerHTML=H):(markup=t.results.reduce((function(t,e){return t+M(e)}),""),A.style.justifyContent="",A.innerHTML=markup)}))}));var H='<li><section class="empty">\n  <p class="empty_title">\n    We haven\'t found news\n    <br />\n    from this category\n  </p>\n  <picture>\n    <source\n      srcset="./img/mobile.png 1x, ./img/mobile@2x.png 2x"\n      type="image/png"\n      media="(max-width: 480px)"\n      alt="empty-page"\n    />\n    <source\n      srcset="./img/tablet.png 1x, ./img/tablet@2x.png 2x"\n      type="image/png"\n      media="(max-width:768px)"\n      alt="empty-page"\n    />\n    <source\n      srcset="./img/desktop.png 1x, ./img/desktop@2x.png 2x"\n      type="image/png"\n      media="(min-width: 1280px)"\n      alt="empty-page"\n    />\n    <img\n      class="empty_picture"\n      src="./img/mobile.png"\n      alt="empty-page"\n      width="248"\n      height="198"\n    />\n  </picture>\n</section></li>';newsWrapper.addEventListener("click",(function(t){if("A"===t.target.nodeName){t.target.setAttribute("data-is-read",!0);var e=t.target.parentElement.parentElement.parentElement;console.log(e);var n=document.createElement("p");n.innerText="Already read",n.classList.add("have-read"),e.appendChild(n);e.getAttribute("data-id")}})),localStorage.setItem("cards","[]")}();
//# sourceMappingURL=index.1950bea4.js.map
